var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function s(t,e,n=e){return t.set(n),e}function u(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function v(){return p(" ")}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t){return""===t?void 0:+t}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function _(t,e){(null!=e||t.value)&&(t.value=e)}function O(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function w(t,e,n){t.classList[n?"add":"remove"](e)}let x;function S(t){x=t}function P(){if(!x)throw new Error("Function called outside component initialization");return x}function M(){const t=P();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}const j=[],E=[],k=[],T=[],D=Promise.resolve();let I=!1;function C(t){k.push(t)}let A=!1;const R=new Set;function z(){if(!A){A=!0;do{for(let t=0;t<j.length;t+=1){const e=j[t];S(e),$(e.$$)}for(j.length=0;E.length;)E.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];R.has(e)||(R.add(e),e())}k.length=0}while(j.length);for(;T.length;)T.pop()();I=!1,A=!1,R.clear()}}function $(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const F=new Set;let W;function L(){W={r:0,c:[],p:W}}function N(){W.r||r(W.c),W=W.p}function X(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Y(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),W.c.push(()=>{F.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function U(t){t&&t.c()}function B(t,n,i){const{fragment:a,on_mount:s,on_destroy:u,after_update:l}=t.$$;a&&a.m(n,i),C(()=>{const n=s.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]}),l.forEach(C)}function H(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function V(t,e){-1===t.$$.dirty[0]&&(j.push(t),I||(I=!0,D.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(e,o,i,a,s,u,l=[-1]){const f=x;S(e);const d=o.props||{},p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:l};let v=!1;if(p.ctx=i?i(e,d,(t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),v&&V(e,t)),n}):[],p.update(),v=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&X(e.$$.fragment),B(e,o.target,o.anchor),z()}S(f)}class G{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var K,J=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t=function(t){var e;return function(n){return e||t(e={exports:{},parent:n},e.exports),e.exports}},e=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNonNativeEvent=function(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(0===t.indexOf(n)&&t.substr(n.length)in e.phases)return!0;return!1},e.initScope=I,e.Scope=e.default=void 0;var o=b(T),a=b(oo),s=b(M),u=b(G),l=b(ce),c=b(i),f=b(au),d=b(Rn),p=b(r({})),v=b(n({})),h=b(vu),y=b(In),g=b(cn),m=b(Sr);function b(t){return t&&t.__esModule?t:{default:t}}function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}var D=function(){function t(){var e=this;j(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=o.default,this.defaults=(0,a.default)(y.default),this.Eventable=f.default,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=new p.default(this),this.InteractEvent=d.default,this.Interactable=void 0,this.interactables=new h.default(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(t){return e.removeDocument(t.target)};var n=this;this.Interactable=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(o,t);var e,r=(e=o,function(){var t,n=P(e);if(S()){var r=P(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return x(this,t)});function o(){return j(this,o),r.apply(this,arguments)}return k(o,[{key:"set",value:function(t){return O(P(o.prototype),"set",this).call(this,t),n.fire("interactable:set",{options:t,interactable:this}),this}},{key:"unset",value:function(){O(P(o.prototype),"unset",this).call(this),n.interactables.list.splice(n.interactables.list.indexOf(this),1),n.fire("interactable:unset",{interactable:this})}},{key:"_defaults",get:function(){return n.defaults}}]),o}(v.default)}return k(t,[{key:"addListeners",value:function(t,e){this.listenerMaps.push({id:e,map:t})}},{key:"fire",value:function(t,e){for(var n=0;n<this.listenerMaps.length;n++){var r=this.listenerMaps[n].map[t];if(r&&!1===r(e,this,t))return!1}}},{key:"init",value:function(t){return this.isInitialized?this:I(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||-1!==this._plugins.list.indexOf(t)}},{key:"usePlugin",value:function(t,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,e),t.listeners&&t.before){for(var n=0,r=this.listenerMaps.length,o=t.before.reduce((function(t,e){return t[e]=!0,t}),{});n<r&&!o[this.listenerMaps[n].id];n++);this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,e){if(-1!==this.getDocIndex(t))return!1;var n=c.default.getWindow(t);e=e?(0,u.default)({},e):{},this.documents.push({doc:t,options:e}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:e})}},{key:"removeDocument",value:function(t){var e=this.getDocIndex(t),n=c.default.getWindow(t),r=this.documents[e].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(e,1),this.events.documents.splice(e,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:r})}},{key:"getDocIndex",value:function(t){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===t)return e;return-1}},{key:"getDocOptions",value:function(t){var e=this.getDocIndex(t);return-1===e?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function I(t,e){return t.isInitialized=!0,c.default.init(e),s.default.init(e),o.default.init(e),l.default.init(e),t.window=e,t.document=e.document,t.usePlugin(m.default),t.usePlugin(g.default),t}e.Scope=e.default=D})),n=t((function(t,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Interactable=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}(Tt),a=v(T),s=v(oo),u=v(G),l=v(d),c=v(rt),f=v(au),p=e({});function v(t){return t&&t.__esModule?t:{default:t}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}var g=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this._actions=void 0,this.target=void 0,this.events=new f.default,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._rectChecker=void 0,this._actions=n.actions,this.target=e,this._context=n.context||r,this._win=(0,i.getWindow)((0,$.trySelector)(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=o,this.set(n)}return y(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}}]),y(t,[{key:"setOnEvents",value:function(t,e){return l.default.func(e.onstart)&&this.on("".concat(t,"start"),e.onstart),l.default.func(e.onmove)&&this.on("".concat(t,"move"),e.onmove),l.default.func(e.onend)&&this.on("".concat(t,"end"),e.onend),l.default.func(e.oninertiastart)&&this.on("".concat(t,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,e,n){(l.default.array(e)||l.default.object(e))&&this.off(t,e),(l.default.array(n)||l.default.object(n))&&this.on(t,n)}},{key:"setPerAction",value:function(t,e){var n=this._defaults;for(var r in e){var i=r,a=this.options[t],c=e[i];"listeners"===i&&this.updatePerActionListeners(t,a.listeners,c),l.default.array(c)?a[i]=o.from(c):l.default.plainObject(c)?(a[i]=(0,u.default)(a[i]||{},(0,s.default)(c)),l.default.object(n.perAction[i])&&"enabled"in n.perAction[i]&&(a[i].enabled=!1!==c.enabled)):l.default.bool(c)&&l.default.object(n.perAction[i])?a[i].enabled=c:a[i]=c}}},{key:"getRect",value:function(t){return t=t||(l.default.element(this.target)?this.target:null),l.default.string(this.target)&&(t=t||this._context.querySelector(this.target)),(0,$.getElementRect)(t)}},{key:"rectChecker",value:function(t){var e=this;return l.default.func(t)?(this._rectChecker=t,this.getRect=function(t){var n=(0,u.default)({},e._rectChecker(t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):null===t?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(t,e){if((0,$.trySelector)(e)||l.default.object(e)){for(var n in this.options[t]=e,this._actions.map)this.options[n][t]=e;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||(0,$.nodeContains)(this._context,t)}},{key:"testIgnoreAllow",value:function(t,e,n){return!this.testIgnore(t.ignoreFrom,e,n)&&this.testAllow(t.allowFrom,e,n)}},{key:"testAllow",value:function(t,e,n){return!t||!!l.default.element(n)&&(l.default.string(t)?(0,$.matchesUpTo)(n,t,e):!!l.default.element(t)&&(0,$.nodeContains)(t,n))}},{key:"testIgnore",value:function(t,e,n){return!(!t||!l.default.element(n))&&(l.default.string(t)?(0,$.matchesUpTo)(n,t,e):!!l.default.element(t)&&(0,$.nodeContains)(t,n))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,e,n,r){l.default.object(e)&&!l.default.array(e)&&(r=n,n=null);var o="on"===t?"add":"remove",i=(0,c.default)(e,n);for(var s in i){"wheel"===s&&(s=a.default.wheelEvent);for(var u=0;u<i[s].length;u++){var f=i[s][u];(0,p.isNonNativeEvent)(s,this._actions)?this.events[t](s,f):l.default.string(this.target)?this._scopeEvents["".concat(o,"Delegate")](this.target,this._context,s,f,r):this._scopeEvents[o](this.target,s,f,r)}}return this}},{key:"on",value:function(t,e,n){return this._onOff("on",t,e,n)}},{key:"off",value:function(t,e,n){return this._onOff("off",t,e,n)}},{key:"set",value:function(t){var e=this._defaults;for(var n in l.default.object(t)||(t={}),this.options=(0,s.default)(e.base),this._actions.methodDict){var r=n,o=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,(0,u.default)((0,u.default)({},e.perAction),e.actions[r])),this[o](t[r])}for(var i in t)l.default.func(this[i])&&this[i](t[i]);return this}},{key:"unset",value:function(){if(l.default.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[t],n=e.length-1;n>=0;n--){var r=e[n],o=r.selector,i=r.context,a=r.listeners;o===this.target&&i===this._context&&e.splice(n,1);for(var s=a.length-1;s>=0;s--)this._scopeEvents.removeDelegate(this.target,this._context,t,a[s][0],a[s][1])}else this._scopeEvents.remove(this.target,"all")}}]),t}();n.Interactable=g;var m=g;n.default=m})),r=t((function(t,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.InteractStatic=void 0;var o=p(T),i=f($),a=p(G),s=p(d),u=f(dt),l=e({});function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}function f(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=o?Object.getOwnPropertyDescriptor(t,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function p(t){return t&&t.__esModule?t:{default:t}}var v=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.getPointerAverage=u.pointerAverage,this.getTouchBBox=u.touchBBox,this.getTouchDistance=u.touchDistance,this.getTouchAngle=u.touchAngle,this.getElementRect=i.getElementRect,this.getElementClientRect=i.getElementClientRect,this.matchesSelector=i.matchesSelector,this.closest=i.closest,this.globalEvents={},this.dynamicDrop=void 0,this.version=void 0,this.interact=void 0,this.scope=void 0,this.scope=e;for(var r=this.constructor.prototype,o=function(t,r){var o=e.interactables.get(t,r);return o||((o=e.interactables.new(t,r)).events.global=n.globalEvents),o},s=0;s<Object.getOwnPropertyNames(this.constructor.prototype).length;s++){var l;o[l=Object.getOwnPropertyNames(this.constructor.prototype)[s]]=r[l]}return(0,a.default)(o,this),o.constructor=this.constructor,this.interact=o,o}var e;return(e=[{key:"use",value:function(t,e){return this.scope.usePlugin(t,e),this}},{key:"isSet",value:function(t,e){return!!this.scope.interactables.get(t,e&&e.context)}},{key:"on",value:function(t,e,n){if(s.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.default.array(t)){for(var r=0;r<t.length;r++){var o=t[r];this.on(o,e,n)}return this}if(s.default.object(t)){for(var i in t)this.on(i,t[i],e);return this}return(0,l.isNonNativeEvent)(t,this.scope.actions)?this.globalEvents[t]?this.globalEvents[t].push(e):this.globalEvents[t]=[e]:this.scope.events.add(this.scope.document,t,e,{options:n}),this}},{key:"off",value:function(t,e,n){if(s.default.string(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),s.default.array(t)){for(var r=0;r<t.length;r++){var o=t[r];this.off(o,e,n)}return this}if(s.default.object(t)){for(var i in t)this.off(i,t[i],e);return this}var a;return(0,l.isNonNativeEvent)(t,this.scope.actions)?t in this.globalEvents&&-1!==(a=this.globalEvents[t].indexOf(e))&&this.globalEvents[t].splice(a,1):this.scope.events.remove(this.scope.document,t,e,n),this}},{key:"debug",value:function(){return this.scope}},{key:"supportsTouch",value:function(){return o.default.supportsTouch}},{key:"supportsPointerEvent",value:function(){return o.default.supportsPointerEvent}},{key:"stop",value:function(){for(var t=0;t<this.scope.interactions.list.length;t++)this.scope.interactions.list[t].stop();return this}},{key:"pointerMoveTolerance",value:function(t){return s.default.number(t)?(this.scope.interactions.pointerMoveTolerance=t,this):this.scope.interactions.pointerMoveTolerance}},{key:"addDocument",value:function(t,e){this.scope.addDocument(t,e)}},{key:"removeDocument",value:function(t){this.scope.removeDocument(t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();n.InteractStatic=v;var h=v;n.default=h})),o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=function(t){return!(!t||!t.Window)&&t instanceof t.Window};var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.init=l,i.getWindow=c,i.default=void 0;var a,s=(a=o)&&a.__esModule?a:{default:a},u={realWindow:void 0,window:void 0,getWindow:c,init:l};function l(t){u.realWindow=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e&&(t=t.wrap(t)),u.window=t}function c(t){return(0,s.default)(t)?t:(t.ownerDocument||t).defaultView||u.window}"undefined"==typeof window?(u.window=void 0,u.realWindow=void 0):l(window),u.init=l;var f=u;i.default=f;var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var p=h(o),v=h(i);function h(t){return t&&t.__esModule?t:{default:t}}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g=function(t){return!!t&&"object"===y(t)},m=function(t){return"function"==typeof t},b={window:function(t){return t===v.default.window||(0,p.default)(t)},docFrag:function(t){return g(t)&&11===t.nodeType},object:g,func:m,number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},string:function(t){return"string"==typeof t},element:function(t){if(!t||"object"!==y(t))return!1;var e=v.default.getWindow(t)||v.default.window;return/object|function/.test(y(e.Element))?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName},plainObject:function(t){return g(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return g(t)&&void 0!==t.length&&m(t.splice)}};d.default=b;var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var O=function(t){return t&&t.__esModule?t:{default:t}}(d);function w(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.prepared.axis;"x"===n?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):"y"===n&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function x(t){var e=t.iEvent,n=t.interaction;if("drag"===n.prepared.name){var r=n.prepared.axis;if("x"===r||"y"===r){var o="x"===r?"y":"x";e.page[o]=n.coords.start.page[o],e.client[o]=n.coords.start.client[o],e.delta[o]=0}}}var S={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.draggable=S.draggable,e.map.drag=S,e.methodDict.drag="draggable",r.actions.drag=S.defaults},listeners:{"interactions:before-action-move":w,"interactions:action-resume":w,"interactions:action-move":x,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.buttons,o=n.options.drag;if(o&&o.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(r&n.options.drag.mouseButtons)))return t.action={name:"drag",axis:"start"===o.lockAxis?o.startAxis:o.lockAxis},!1}},draggable:function(t){return O.default.object(t)?(this.options.drag.enabled=!1!==t.enabled,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):O.default.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:w,move:x,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},P=S;_.default=P;var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=void 0;var j={init:function(t){var e=t;j.document=e.document,j.DocumentFragment=e.DocumentFragment||E,j.SVGElement=e.SVGElement||E,j.SVGSVGElement=e.SVGSVGElement||E,j.SVGElementInstance=e.SVGElementInstance||E,j.Element=e.Element||E,j.HTMLElement=e.HTMLElement||j.Element,j.Event=e.Event,j.Touch=e.Touch||E,j.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function E(){}var k=j;M.default=k;var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=void 0;var D=A(M),I=A(d),C=A(i);function A(t){return t&&t.__esModule?t:{default:t}}var R={init:function(t){var e=D.default.Element,n=C.default.window.navigator;R.supportsTouch="ontouchstart"in t||I.default.func(t.DocumentTouch)&&D.default.document instanceof t.DocumentTouch,R.supportsPointerEvent=!1!==n.pointerEnabled&&!!D.default.PointerEvent,R.isIOS=/iP(hone|od|ad)/.test(n.platform),R.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),R.isIe9=/MSIE 9/.test(n.userAgent),R.isOperaMobile="Opera"===n.appName&&R.supportsTouch&&/Presto/.test(n.userAgent),R.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",R.pEventTypes=R.supportsPointerEvent?D.default.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,R.wheelEvent="onmousewheel"in D.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},z=R;T.default=z;var $={};function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty($,"__esModule",{value:!0}),$.nodeContains=function(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1},$.closest=function(t,e){for(;N.default.element(t);){if(B(t,e))return t;t=U(t)}return null},$.parentNode=U,$.matchesSelector=B,$.indexOfDeepestElement=function(t){var e,n,r=[],o=t[0],i=o?0:-1;for(e=1;e<t.length;e++){var a=t[e];if(a&&a!==o)if(o){if(a.parentNode!==a.ownerDocument)if(o.parentNode!==a.ownerDocument)if(a.parentNode!==o.parentNode){if(!r.length)for(var s=o,u=void 0;(u=H(s))&&u!==s.ownerDocument;)r.unshift(s),s=u;var l=void 0;if(o instanceof L.default.HTMLElement&&a instanceof L.default.SVGElement&&!(a instanceof L.default.SVGSVGElement)){if(a===o.parentNode)continue;l=a.ownerSVGElement}else l=a;for(var c=[];l.parentNode!==l.ownerDocument;)c.unshift(l),l=H(l);for(n=0;c[n]&&c[n]===r[n];)n++;for(var f=[c[n-1],c[n],r[n]],d=f[0].lastChild;d;){if(d===f[1]){o=a,i=e,r=c;break}if(d===f[2])break;d=d.previousSibling}}else{var p=parseInt((0,X.getWindow)(o).getComputedStyle(o).zIndex,10)||0;(parseInt((0,X.getWindow)(a).getComputedStyle(a).zIndex,10)||0)>=p&&(o=a,i=e)}else o=a,i=e}else o=a,i=e}return i},$.matchesUpTo=function(t,e,n){for(;N.default.element(t);){if(B(t,e))return!0;if((t=U(t))===n)return B(t,e)}return!1},$.getActualElement=function(t){return t instanceof L.default.SVGElementInstance?t.correspondingUseElement:t},$.getScrollXY=V,$.getElementClientRect=q,$.getElementRect=function(t){var e=q(t);if(!W.default.isIOS7&&e){var n=V(X.default.getWindow(t));e.left+=n.x,e.right+=n.x,e.top+=n.y,e.bottom+=n.y}return e},$.getPath=function(t){for(var e=[];t;)e.push(t),t=U(t);return e},$.trySelector=function(t){return!!N.default.string(t)&&(L.default.document.querySelector(t),!0)};var W=Y(T),L=Y(M),N=Y(d),X=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==F(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(i);function Y(t){return t&&t.__esModule?t:{default:t}}function U(t){var e=t.parentNode;if(N.default.docFrag(e)){for(;(e=e.host)&&N.default.docFrag(e););return e}return e}function B(t,e){return X.default.window!==X.default.realWindow&&(e=e.replace(/\/deep\//g," ")),t[W.default.prefixedMatchesSelector](e)}var H=function(t){return t.parentNode?t.parentNode:t.host};function V(t){return{x:(t=t||X.default.window).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function q(t){var e=t instanceof L.default.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(t,e){for(var n in e)t[n]=e[n];return t};var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.getStringOptionResult=et,K.resolveRectLike=function(t,e,n,r){var o=t;return Q.default.string(o)?o=et(o,e,n):Q.default.func(o)&&(o=o.apply(void 0,function(t){return function(t){if(Array.isArray(t))return tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r))),Q.default.element(o)&&(o=(0,$.getElementRect)(o)),o},K.rectToXY=function(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}},K.xywhToTlbr=function(t){return!t||"left"in t&&"top"in t||((t=(0,J.default)({},t)).left=t.x||0,t.top=t.y||0,t.right=t.right||t.left+t.width,t.bottom=t.bottom||t.top+t.height),t},K.tlbrToXywh=function(t){return!t||"x"in t&&"y"in t||((t=(0,J.default)({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t},K.addEdges=function(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top};var J=Z(G),Q=Z(d);function Z(t){return t&&t.__esModule?t:{default:t}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function et(t,e,n){return"parent"===t?(0,$.parentNode)(n):"self"===t?e.getRect(n):(0,$.closest)(n,t)}var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=function(t,e,n){var r=t.options[n],o=r&&r.origin||t.options.origin,i=(0,K.resolveRectLike)(o,t,e,[t&&e]);return(0,K.rectToXY)(i)||{x:0,y:0}};var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=function t(e,n,r){if(r=r||{},it.default.string(e)&&-1!==e.search(" ")&&(e=st(e)),it.default.array(e))return e.reduce((function(e,o){return(0,ot.default)(e,t(o,n,r))}),r);if(it.default.object(e)&&(n=e,e=""),it.default.func(n))r[e]=r[e]||[],r[e].push(n);else if(it.default.array(n))for(var o=0;o<n.length;o++){var i;i=n[o],t(e,i,r)}else if(it.default.object(n))for(var a in n){var s=st(a).map((function(t){return"".concat(e).concat(t)}));t(s,n[a],r)}return r};var ot=at(G),it=at(d);function at(t){return t&&t.__esModule?t:{default:t}}function st(t){return t.trim().split(/ +/)}var ut={};Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0,ut.default=function(t,e){return Math.sqrt(t*t+e*e)};var lt={};function ct(t,e){for(var n in e){var r=ct.prefixedPropREs,o=!1;for(var i in r)if(0===n.indexOf(i)&&r[i].test(n)){o=!0;break}o||"function"==typeof e[n]||(t[n]=e[n])}return t}Object.defineProperty(lt,"__esModule",{value:!0}),lt.default=void 0,ct.prefixedPropREs={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/,moz:/(Pressure)$/};var ft=ct;lt.default=ft;var dt={};function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(dt,"__esModule",{value:!0}),dt.copyCoords=function(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp},dt.setCoordDeltas=function(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=n.timeStamp-e.timeStamp},dt.setCoordVelocity=function(t,e){var n=Math.max(e.timeStamp/1e3,.001);t.page.x=e.page.x/n,t.page.y=e.page.y/n,t.client.x=e.client.x/n,t.client.y=e.client.y/n,t.timeStamp=n},dt.setZeroCoords=function(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0},dt.isNativePointer=Ot,dt.getXY=wt,dt.getPageXY=xt,dt.getClientXY=St,dt.getPointerId=function(t){return mt.default.number(t.pointerId)?t.pointerId:t.identifier},dt.setCoords=function(t,e,n){var r=e.length>1?Mt(e):e[0],o={};xt(r,o),t.page.x=o.x,t.page.y=o.y,St(r,o),t.client.x=o.x,t.client.y=o.y,t.timeStamp=n},dt.getTouchPair=Pt,dt.pointerAverage=Mt,dt.touchBBox=function(t){if(!(t.length||t.touches&&t.touches.length>1))return null;var e=Pt(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),o=Math.max(e[0].pageX,e[1].pageX),i=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,right:o,bottom:i,width:o-n,height:i-r}},dt.touchDistance=function(t,e){var n=e+"X",r=e+"Y",o=Pt(t),i=o[0][n]-o[1][n],a=o[0][r]-o[1][r];return(0,gt.default)(i,a)},dt.touchAngle=function(t,e){var n=e+"X",r=e+"Y",o=Pt(t),i=o[1][n]-o[0][n],a=o[1][r]-o[0][r];return 180*Math.atan2(a,i)/Math.PI},dt.getPointerType=function(t){return mt.default.string(t.pointerType)?t.pointerType:mt.default.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type)||t instanceof ht.default.Touch?"touch":"mouse"},dt.getEventTargets=function(t){var e=mt.default.func(t.composedPath)?t.composedPath():t.path;return[yt.getActualElement(e?e[0]:t.target),yt.getActualElement(t.currentTarget)]},dt.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},dt.coordsToEvent=function(t){return{coords:t,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},Object.defineProperty(dt,"pointerExtend",{enumerable:!0,get:function(){return bt.default}});var vt=_t(T),ht=_t(M),yt=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==pt(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}($),gt=_t(ut),mt=_t(d),bt=_t(lt);function _t(t){return t&&t.__esModule?t:{default:t}}function Ot(t){return t instanceof ht.default.Event||t instanceof ht.default.Touch}function wt(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function xt(t,e){return e=e||{x:0,y:0},vt.default.isOperaMobile&&Ot(t)?(wt("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):wt("page",t,e),e}function St(t,e){return e=e||{},vt.default.isOperaMobile&&Ot(t)?wt("screen",t,e):wt("client",t,e),e}function Pt(t){var e=[];return mt.default.array(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function Mt(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var r=t[n];for(var o in e)e[o]+=r[o]}for(var i in e)e[i]/=t.length;return e}var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=jt.BaseEvent=void 0;var Et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=void 0,this.target=void 0,this.currentTarget=void 0,this.interactable=void 0,this._interaction=void 0,this.timeStamp=void 0,this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}var e;return(e=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();jt.BaseEvent=Et,Object.defineProperty(Et.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var kt=Et;jt.default=kt;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.find=Tt.findIndex=Tt.from=Tt.merge=Tt.remove=Tt.contains=void 0,Tt.contains=function(t,e){return-1!==t.indexOf(e)},Tt.remove=function(t,e){return t.splice(t.indexOf(e),1)};var Dt=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.push(r)}return t};Tt.merge=Dt,Tt.from=function(t){return Dt([],t)};var It=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1};Tt.findIndex=It,Tt.find=function(t,e){return t[It(t,e)]};var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0;var At=function(t){return t&&t.__esModule?t:{default:t}}(jt),Rt=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==zt(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(Tt);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ft(t,e){return!e||"object"!==zt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Wt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(o,t);var e,n,r=(e=o,function(){var t,n=Lt(e);if(Wt()){var r=Lt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Ft(this,t)});function o(t,e,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(i=r.call(this,e._interaction)).target=void 0,i.dropzone=void 0,i.dragEvent=void 0,i.relatedTarget=void 0,i.draggable=void 0,i.timeStamp=void 0,i.propagationStopped=!1,i.immediatePropagationStopped=!1;var a="dragleave"===n?t.prev:t.cur,s=a.element,u=a.dropzone;return i.type=n,i.target=s,i.currentTarget=s,i.dropzone=u,i.dragEvent=e,i.relatedTarget=e.target,i.draggable=e.interactable,i.timeStamp=e.timeStamp,i}return(n=[{key:"reject",value:function(){var t=this,e=this._interaction.dropState;if("dropactivate"===this.type||this.dropzone&&e.cur.dropzone===this.dropzone&&e.cur.element===this.target)if(e.prev.dropzone=this.dropzone,e.prev.element=this.target,e.rejected=!0,e.events.enter=null,this.stopImmediatePropagation(),"dropactivate"===this.type){var n=e.activeDrops,r=Rt.findIndex(n,(function(e){var n=e.dropzone,r=e.element;return n===t.dropzone&&r===t.target}));e.activeDrops.splice(r,1);var i=new o(e,this.dragEvent,"dropdeactivate");i.dropzone=this.dropzone,i.target=this.target,this.dropzone.fire(i)}else this.dropzone.fire(new o(e,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(o.prototype,n),o}(At.default);Ct.default=Nt;var Xt={};function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.default=void 0;var Ut=te($),Bt=Qt(G),Ht=Qt(nt),Vt=Qt(d),qt=Qt(rt),Gt=te(dt),Kt=Qt(_),Jt=Qt(Ct);function Qt(t){return t&&t.__esModule?t:{default:t}}function Zt(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Zt=function(){return t},t}function te(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Yt(t)&&"function"!=typeof t)return{default:t};var e=Zt();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function ee(t,e){for(var n=0;n<t.slice().length;n++){var r=t.slice()[n],o=r.dropzone,i=r.element;e.dropzone=o,e.target=i,o.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function ne(t,e){for(var n=function(t,e){for(var n=t.interactables,r=[],o=0;o<n.list.length;o++){var i=n.list[o];if(i.options.drop.enabled){var a=i.options.drop.accept;if(!(Vt.default.element(a)&&a!==e||Vt.default.string(a)&&!Ut.matchesSelector(e,a)||Vt.default.func(a)&&!a({dropzone:i,draggableElement:e})))for(var s=Vt.default.string(i.target)?i._context.querySelectorAll(i.target):Vt.default.array(i.target)?i.target:[i.target],u=0;u<s.length;u++){var l=s[u];l!==e&&r.push({dropzone:i,element:l})}}}return r}(t,e),r=0;r<n.length;r++){var o=n[r];o.rect=o.dropzone.getRect(o.element)}return n}function re(t,e,n){for(var r=t.dropState,o=t.interactable,i=t.element,a=[],s=0;s<r.activeDrops.length;s++){var u=r.activeDrops[s],l=u.dropzone,c=u.element,f=u.rect;a.push(l.dropCheck(e,n,o,i,c,f)?c:null)}var d=Ut.indexOfDeepestElement(a);return r.activeDrops[d]||null}function oe(t,e,n){var r=t.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return"dragstart"===n.type&&(o.activate=new Jt.default(r,n,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),"dragend"===n.type&&(o.deactivate=new Jt.default(r,n,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(o.leave=new Jt.default(r,n,"dragleave"),n.dragLeave=o.leave.target=r.prev.element,n.prevDropzone=o.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(o.enter=new Jt.default(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),"dragend"===n.type&&r.cur.dropzone&&(o.drop=new Jt.default(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),"dragmove"===n.type&&r.cur.dropzone&&(o.move=new Jt.default(r,n,"dropmove"),o.move.dragmove=n,n.dropzone=r.cur.dropzone)),o}function ie(t,e){var n=t.dropState,r=n.activeDrops,o=n.cur,i=n.prev;e.leave&&i.dropzone.fire(e.leave),e.move&&o.dropzone.fire(e.move),e.enter&&o.dropzone.fire(e.enter),e.drop&&o.dropzone.fire(e.drop),e.deactivate&&ee(r,e.deactivate),n.prev.dropzone=o.dropzone,n.prev.element=o.element}function ae(t,e){var n=t.interaction,r=t.iEvent,o=t.event;if("dragmove"===r.type||"dragend"===r.type){var i=n.dropState;e.dynamicDrop&&(i.activeDrops=ne(e,n.element));var a=r,s=re(n,a,o);i.rejected=i.rejected&&!!s&&s.dropzone===i.cur.dropzone&&s.element===i.cur.element,i.cur.dropzone=s&&s.dropzone,i.cur.element=s&&s.element,i.events=oe(n,0,a)}}var se={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,r=t.Interactable,o=t.defaults;t.usePlugin(Kt.default),r.prototype.dropzone=function(t){return function(t,e){if(Vt.default.object(e)){if(t.options.drop.enabled=!1!==e.enabled,e.listeners){var n=(0,qt.default)(e.listeners),r=Object.keys(n).reduce((function(t,e){return t[/^(enter|leave)/.test(e)?"drag".concat(e):/^(activate|deactivate|move)/.test(e)?"drop".concat(e):e]=n[e],t}),{});t.off(t.options.drop.listeners),t.on(r),t.options.drop.listeners=r}return Vt.default.func(e.ondrop)&&t.on("drop",e.ondrop),Vt.default.func(e.ondropactivate)&&t.on("dropactivate",e.ondropactivate),Vt.default.func(e.ondropdeactivate)&&t.on("dropdeactivate",e.ondropdeactivate),Vt.default.func(e.ondragenter)&&t.on("dragenter",e.ondragenter),Vt.default.func(e.ondragleave)&&t.on("dragleave",e.ondragleave),Vt.default.func(e.ondropmove)&&t.on("dropmove",e.ondropmove),/^(pointer|center)$/.test(e.overlap)?t.options.drop.overlap=e.overlap:Vt.default.number(e.overlap)&&(t.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(t.options.drop.accept=e.accept),"checker"in e&&(t.options.drop.checker=e.checker),t}return Vt.default.bool(e)?(t.options.drop.enabled=e,t):t.options.drop}(this,t)},r.prototype.dropCheck=function(t,e,n,r,o,i){return function(t,e,n,r,o,i,a){var s=!1;if(!(a=a||t.getRect(i)))return!!t.options.drop.checker&&t.options.drop.checker(e,n,s,t,i,r,o);var u=t.options.drop.overlap;if("pointer"===u){var l=(0,Ht.default)(r,o,"drag"),c=Gt.getPageXY(e);c.x+=l.x,c.y+=l.y;var f=c.x>a.left&&c.x<a.right,d=c.y>a.top&&c.y<a.bottom;s=f&&d}var p=r.getRect(o);if(p&&"center"===u){var v=p.left+p.width/2,h=p.top+p.height/2;s=v>=a.left&&v<=a.right&&h>=a.top&&h<=a.bottom}return p&&Vt.default.number(u)&&(s=Math.max(0,Math.min(a.right,p.right)-Math.max(a.left,p.left))*Math.max(0,Math.min(a.bottom,p.bottom)-Math.max(a.top,p.top))/(p.width*p.height)>=u),t.options.drop.checker&&(s=t.options.drop.checker(e,n,s,t,i,r,o)),s}(this,t,e,n,r,o,i)},n.dynamicDrop=function(e){return Vt.default.bool(e)?(t.dynamicDrop=e,n):t.dynamicDrop},(0,Bt.default)(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,o.actions.drop=se.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;"drag"===e.prepared.name&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,r=(t.event,t.iEvent);if("drag"===n.prepared.name){var o=n.dropState;o.activeDrops=null,o.events=null,o.activeDrops=ne(e,n.element),o.events=oe(n,0,r),o.events.activate&&(ee(o.activeDrops,o.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":ae,"interactions:action-end":ae,"interactions:after-action-move":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(ie(n,n.dropState.events),e.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:after-action-end":function(t,e){var n=t.interaction,r=t.iEvent;"drag"===n.prepared.name&&(ie(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:r}))},"interactions:stop":function(t){var e=t.interaction;if("drag"===e.prepared.name){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:ne,getDrop:re,getDropEvents:oe,fireDropEvents:ie,defaults:{enabled:!1,accept:null,overlap:"pointer"}},ue=se;Xt.default=ue;var le={};Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0,le.default={};var ce={};Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var fe,de,pe=0,ve={request:function(t){return fe(t)},cancel:function(t){return de(t)},init:function(t){if(fe=t.requestAnimationFrame,de=t.cancelAnimationFrame,!fe)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var r=e[n];fe=t["".concat(r,"RequestAnimationFrame")],de=t["".concat(r,"CancelAnimationFrame")]||t["".concat(r,"CancelRequestAnimationFrame")]}fe||(fe=function(t){var e=Date.now(),n=Math.max(0,16-(e-pe)),r=setTimeout((function(){t(e+n)}),n);return pe=e+n,r},de=function(t){return clearTimeout(t)})}};ce.default=ve;var he={};function ye(t){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(he,"__esModule",{value:!0}),he.getContainer=we,he.getScroll=xe,he.getScrollSize=function(t){return me.default.window(t)&&(t=window.document.body),{x:t.scrollWidth,y:t.scrollHeight}},he.getScrollSizeDelta=function(t,e){var n=t.interaction,r=t.element,o=n&&n.interactable.options[n.prepared.name].autoScroll;if(!o||!o.enabled)return e(),{x:0,y:0};var i=we(o.container,n.interactable,r),a=xe(i);e();var s=xe(i);return{x:s.x-a.x,y:s.y-a.y}},he.default=void 0;var ge=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ye(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}($),me=_e(d),be=_e(ce);function _e(t){return t&&t.__esModule?t:{default:t}}var Oe={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){Oe.isScrolling=!0,be.default.cancel(Oe.i),t.autoScroll=Oe,Oe.interaction=t,Oe.prevTime=Oe.now(),Oe.i=be.default.request(Oe.scroll)},stop:function(){Oe.isScrolling=!1,Oe.interaction&&(Oe.interaction.autoScroll=null),be.default.cancel(Oe.i)},scroll:function(){var t=Oe.interaction,e=t.interactable,n=t.element,r=t.prepared.name,o=e.options[r].autoScroll,i=we(o.container,e,n),a=Oe.now(),s=(a-Oe.prevTime)/1e3,u=o.speed*s;if(u>=1){var l={x:Oe.x*u,y:Oe.y*u};if(l.x||l.y){var c=xe(i);me.default.window(i)?i.scrollBy(l.x,l.y):i&&(i.scrollLeft+=l.x,i.scrollTop+=l.y);var f=xe(i),d={x:f.x-c.x,y:f.y-c.y};(d.x||d.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:d,interaction:t,container:i})}Oe.prevTime=a}Oe.isScrolling&&(be.default.cancel(Oe.i),Oe.i=be.default.request(Oe.scroll))},check:function(t,e){var n=t.options;return n[e].autoScroll&&n[e].autoScroll.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&Oe.check(e.interactable,e.prepared.name))if(e.simulation)Oe.x=Oe.y=0;else{var r,o,i,a,s=e.interactable,u=e.element,l=e.prepared.name,c=s.options[l].autoScroll,f=we(c.container,s,u);if(me.default.window(f))a=n.clientX<Oe.margin,r=n.clientY<Oe.margin,o=n.clientX>f.innerWidth-Oe.margin,i=n.clientY>f.innerHeight-Oe.margin;else{var d=ge.getElementClientRect(f);a=n.clientX<d.left+Oe.margin,r=n.clientY<d.top+Oe.margin,o=n.clientX>d.right-Oe.margin,i=n.clientY>d.bottom-Oe.margin}Oe.x=o?1:a?-1:0,Oe.y=i?1:r?-1:0,Oe.isScrolling||(Oe.margin=c.margin,Oe.speed=c.speed,Oe.start(e))}}};function we(t,e,n){return(me.default.string(t)?(0,K.getStringOptionResult)(t,e,n):t)||(0,i.getWindow)(n)}function xe(t){return me.default.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var Se={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=Oe,Oe.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=Oe.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,Oe.stop(),Oe.interaction&&(Oe.interaction=null)},"interactions:stop":Oe.stop,"interactions:action-move":function(t){return Oe.onInteractionMove(t)}}};he.default=Se;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.warnOnce=function(t,e){var n=!1;return function(){return n||(Me.default.window.console.warn(e),n=!0),t.apply(this,arguments)}},Pe.copyAction=function(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t};var Me=function(t){return t&&t.__esModule?t:{default:t}}(i),je={};Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0;var Ee=function(t){return t&&t.__esModule?t:{default:t}}(d);function ke(t){return Ee.default.bool(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor}function Te(t){return Ee.default.func(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker}var De={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(e,n,r,o){var i=function(t,e,n,r,o){var i=t.getRect(r),a={action:null,interactable:t,interaction:n,element:r,rect:i,buttons:e.buttons||{0:1,1:4,3:8,4:16}[e.button]};return o.fire("auto-start:check",a),a.action}(this,n,r,o,t);return this.options.actionChecker?this.options.actionChecker(e,n,i,this,o,r):i},e.prototype.ignoreFrom=(0,Pe.warnOnce)((function(t){return this._backCompatOption("ignoreFrom",t)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=(0,Pe.warnOnce)((function(t){return this._backCompatOption("allowFrom",t)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=Te,e.prototype.styleCursor=ke}};je.default=De;var Ie={};function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var Ae=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ce(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}($),Re=Fe(G),ze=Fe(d),$e=Fe(je);function Fe(t){return t&&t.__esModule?t:{default:t}}function We(t,e,n,r,o){return e.testIgnoreAllow(e.options[t.name],n,r)&&e.options[t.name].enabled&&Ye(e,n,t,o)?t:null}function Le(t,e,n,r,o,i,a){for(var s=0,u=r.length;s<u;s++){var l=r[s],c=o[s],f=l.getAction(e,n,t,c);if(f){var d=We(f,l,c,i,a);if(d)return{action:d,interactable:l,element:c}}}return{action:null,interactable:null,element:null}}function Ne(t,e,n,r,o){var i=[],a=[],s=r;function u(t){i.push(t),a.push(s)}for(;ze.default.element(s);){i=[],a=[],o.interactables.forEachMatch(s,u);var l=Le(t,e,n,i,a,r,o);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=Ae.parentNode(s)}return{action:null,interactable:null,element:null}}function Xe(t,e,n){var r=e.action,o=e.interactable,i=e.element;r=r||{name:null},t.interactable=o,t.element=i,(0,Pe.copyAction)(t.prepared,r),t.rect=o&&r.name?o.getRect(i):null,He(t,n),n.fire("autoStart:prepared",{interaction:t})}function Ye(t,e,n,r){var o=t.options,i=o[n.name].max,a=o[n.name].maxPerElement,s=r.autoStart.maxInteractions,u=0,l=0,c=0;if(!(i&&a&&s))return!1;for(var f=0;f<r.interactions.list.length;f++){var d=r.interactions.list[f],p=d.prepared.name;if(d.interacting()){if(++u>=s)return!1;if(d.interactable===t){if((l+=p===n.name?1:0)>=i)return!1;if(d.element===e&&(c++,p===n.name&&c>=a))return!1}}}return s>0}function Ue(t,e){return ze.default.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function Be(t,e,n){var r=n.autoStart.cursorElement;r&&r!==t&&(r.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function He(t,e){var n=t.interactable,r=t.element,o=t.prepared;if("mouse"===t.pointerType&&n&&n.options.styleCursor){var i="";if(o.name){var a=n.options[o.name].cursorChecker;i=ze.default.func(a)?a(o,n,r,t._interacting):e.actions.map[o.name].getCursor(o)}Be(t.element,i||"",e)}else e.autoStart.cursorElement&&Be(e.autoStart.cursorElement,"",e)}var Ve={id:"auto-start/base",before:["actions","actions/drag","actions/resize","actions/gesture"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin($e.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,Re.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(e){return Ue(e,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:Ye,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget;n.interacting()||Xe(n,Ne(n,r,o,i,e),e)},"interactions:move":function(t,e){!function(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget;"mouse"!==n.pointerType||n.pointerIsDown||n.interacting()||Xe(n,Ne(n,r,o,i,e),e)}(t,e),function(t,e){var n=t.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){e.fire("autoStart:before-start",t);var r=n.interactable,o=n.prepared.name;o&&r&&(r.options[o].manualStart||!Ye(r,n.element,n.prepared,e)?n.stop():(n.start(n.prepared,r,n.element),He(n,e)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,r=n.interactable;r&&r.options.styleCursor&&Be(n.element,"",e)}},maxInteractions:Ue,withinInteractionLimit:Ye,validateAction:We};Ie.default=Ve;var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var Ge=Je(d),Ke=Je(Ie);function Je(t){return t&&t.__esModule?t:{default:t}}var Qe={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,r=t.eventTarget,o=t.dx,i=t.dy;if("drag"===n.prepared.name){var a=Math.abs(o),s=Math.abs(i),u=n.interactable.options.drag,l=u.startAxis,c=a>s?"x":a<s?"y":"xy";if(n.prepared.axis="start"===u.lockAxis?c[0]:u.lockAxis,"xy"!==c&&"xy"!==l&&l!==c){n.prepared.name=null;for(var f=r,d=function(t){if(t!==n.interactable){var o=n.interactable.options.drag;if(!o.manualStart&&t.testIgnoreAllow(o,f,r)){var i=t.getAction(n.downPointer,n.downEvent,n,f);if(i&&"drag"===i.name&&function(t,e){if(!e)return!1;var n=e.options.drag.startAxis;return"xy"===t||"xy"===n||n===t}(c,t)&&Ke.default.validateAction(i,t,f,r,e))return t}}};Ge.default.element(f);){var p=e.interactables.forEachMatch(f,d);if(p){n.prepared.name="drag",n.interactable=p,n.element=f;break}f=(0,$.parentNode)(f)}}}}}};qe.default=Qe;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var tn=function(t){return t&&t.__esModule?t:{default:t}}(Ie);function en(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var nn={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(tn.default),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=en(e);n>0&&(e.autoStartHoldTimer=setTimeout((function(){e.start(e.prepared,e.interactable,e.element)}),n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.pointerWasMoved&&!n&&clearTimeout(e.autoStartHoldTimer)},"autoStart:before-start":function(t){var e=t.interaction;en(e)>0&&(e.prepared.name=null)}},getHoldDuration:en};Ze.default=nn;var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.default=void 0;var on=un(Ie),an=un(qe),sn=un(Ze);function un(t){return t&&t.__esModule?t:{default:t}}var ln={id:"auto-start",install:function(t){t.usePlugin(on.default),t.usePlugin(sn.default),t.usePlugin(an.default)}};rn.default=ln;var cn={};function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=cn.FakeEvent=void 0;var dn=_n(Tt),pn=_n($),vn=mn(G),hn=mn(d),yn=mn(lt),gn=_n(dt);function mn(t){return t&&t.__esModule?t:{default:t}}function bn(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return bn=function(){return t},t}function _n(t){if(t&&t.__esModule)return t;if(null===t||"object"!==fn(t)&&"function"!=typeof t)return{default:t};var e=bn();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function On(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var xn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.originalEvent=e,(0,yn.default)(this,e)}var e;return(e=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function Sn(t){if(!hn.default.object(t))return{capture:!!t,passive:!1};var e=(0,vn.default)({},t);return e.capture=!!t.capture,e.passive=!!t.passive,e}cn.FakeEvent=xn;var Pn={id:"events",install:function(t){var e=[],n={},r=[],o={add:i,remove:a,addDelegate:function(t,e,o,a,l){var c=Sn(l);if(!n[o]){n[o]=[];for(var f=0;f<r.length;f++){var d=r[f];i(d,o,s),i(d,o,u,!0)}}var p=n[o],v=dn.find(p,(function(n){return n.selector===t&&n.context===e}));v||(v={selector:t,context:e,listeners:[]},p.push(v)),v.listeners.push([a,c])},removeDelegate:function(t,e,r,o,i){var l,c=Sn(i),f=n[r],d=!1;if(f)for(l=f.length-1;l>=0;l--){var p=f[l];if(p.selector===t&&p.context===e){for(var v=p.listeners,h=v.length-1;h>=0;h--){var y=On(v[h],2),g=y[0],m=y[1],b=m.capture,_=m.passive;if(g===o&&b===c.capture&&_===c.passive){v.splice(h,1),v.length||(f.splice(l,1),a(e,r,s),a(e,r,u,!0)),d=!0;break}}if(d)break}}},delegateListener:s,delegateUseCapture:u,delegatedEvents:n,documents:r,targets:e,supportsOptions:!1,supportsPassive:!1};function i(t,n,r,i){var a=Sn(i),s=dn.find(e,(function(e){return e.eventTarget===t}));s||(s={eventTarget:t,events:{}},e.push(s)),s.events[n]||(s.events[n]=[]),t.addEventListener&&!dn.contains(s.events[n],r)&&(t.addEventListener(n,r,o.supportsOptions?a:a.capture),s.events[n].push(r))}function a(t,n,r,i){var s=Sn(i),u=dn.findIndex(e,(function(e){return e.eventTarget===t})),l=e[u];if(l&&l.events)if("all"!==n){var c=!1,f=l.events[n];if(f){if("all"===r){for(var d=f.length-1;d>=0;d--)a(t,n,f[d],s);return}for(var p=0;p<f.length;p++)if(f[p]===r){t.removeEventListener(n,r,o.supportsOptions?s:s.capture),f.splice(p,1),0===f.length&&(delete l.events[n],c=!0);break}}c&&!Object.keys(l.events).length&&e.splice(u,1)}else for(n in l.events)l.events.hasOwnProperty(n)&&a(t,n,"all")}function s(t,e){for(var r=Sn(e),o=new xn(t),i=n[t.type],a=On(gn.getEventTargets(t),1)[0],s=a;hn.default.element(s);){for(var u=0;u<i.length;u++){var l=i[u],c=l.selector,f=l.context;if(pn.matchesSelector(s,c)&&pn.nodeContains(f,a)&&pn.nodeContains(f,s)){var d=l.listeners;o.currentTarget=s;for(var p=0;p<d.length;p++){var v=On(d[p],2),h=v[0],y=v[1],g=y.capture,m=y.passive;g===r.capture&&m===r.passive&&h(o)}}}s=pn.parentNode(s)}}function u(t){return s(t,!0)}return t.document.createElement("div").addEventListener("test",null,{get capture(){return o.supportsOptions=!0},get passive(){return o.supportsPassive=!0}}),t.events=o,o}};cn.default=Pn;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.install=Tn,Mn.default=void 0;var jn=function(t){return t&&t.__esModule?t:{default:t}}(d);function En(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):jn.default.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault}function kn(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}function Tn(t){var e=t.Interactable;e.prototype.preventDefault=En,e.prototype.checkAndPreventDefault=function(e){return function(t,e,n){var r=t.options.preventDefault;if("never"!==r)if("always"!==r){if(e.events.supportsPassive&&/^touch(start|move)$/.test(n.type)){var o=(0,i.getWindow)(n.target).document,a=e.getDocOptions(o);if(!a||!a.events||!1!==a.events.passive)return}/^(mouse|pointer|touch)*(down|start)/i.test(n.type)||jn.default.element(n.target)&&(0,$.matchesSelector)(n.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||n.preventDefault()}else n.preventDefault()}(this,t,e)},t.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var n=0;n<t.interactions.list.length;n++){var r=t.interactions.list[n];if(r.element&&(r.element===e.target||(0,$.nodeContains)(r.element,e.target)))return void r.interactable.checkAndPreventDefault(e)}}})}var Dn={id:"core/interactablePreventDefault",install:Tn,listeners:["down","move","up","cancel"].reduce((function(t,e){return t["interactions:".concat(e)]=kn,t}),{})};Mn.default=Dn;var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.default=In.defaults=void 0;var Cn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};In.defaults=Cn;var An=Cn;In.default=An;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=Rn.InteractEvent=void 0;var zn=Nn(G),$n=Nn(nt),Fn=Nn(ut),Wn=Nn(jt),Ln=Nn(In);function Nn(t){return t&&t.__esModule?t:{default:t}}function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t,e){return(Yn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Un(t,e){return!e||"object"!==Xn(e)&&"function"!=typeof e?Bn(t):e}function Bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yn(t,e)}(o,t);var e,n,r=(e=o,function(){var t,n=Vn(e);if(Hn()){var r=Vn(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Un(this,t)});function o(t,e,n,i,a,s,u){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(l=r.call(this,t)).target=void 0,l.currentTarget=void 0,l.relatedTarget=null,l.screenX=void 0,l.screenY=void 0,l.button=void 0,l.buttons=void 0,l.ctrlKey=void 0,l.shiftKey=void 0,l.altKey=void 0,l.metaKey=void 0,l.page=void 0,l.client=void 0,l.delta=void 0,l.rect=void 0,l.x0=void 0,l.y0=void 0,l.t0=void 0,l.dt=void 0,l.duration=void 0,l.clientX0=void 0,l.clientY0=void 0,l.velocity=void 0,l.speed=void 0,l.swipe=void 0,l.timeStamp=void 0,l.dragEnter=void 0,l.dragLeave=void 0,l.axes=void 0,l.preEnd=void 0,a=a||t.element;var c=t.interactable,f=(c&&c.options||Ln.default).deltaSource,d=(0,$n.default)(c,a,n),p="start"===i,v="end"===i,h=p?Bn(l):t.prevEvent,y=p?t.coords.start:v?{page:h.page,client:h.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return l.page=(0,zn.default)({},y.page),l.client=(0,zn.default)({},y.client),l.rect=(0,zn.default)({},t.rect),l.timeStamp=y.timeStamp,v||(l.page.x-=d.x,l.page.y-=d.y,l.client.x-=d.x,l.client.y-=d.y),l.ctrlKey=e.ctrlKey,l.altKey=e.altKey,l.shiftKey=e.shiftKey,l.metaKey=e.metaKey,l.button=e.button,l.buttons=e.buttons,l.target=a,l.currentTarget=a,l.preEnd=s,l.type=u||n+(i||""),l.interactable=c,l.t0=p?t.pointers[t.pointers.length-1].downTime:h.t0,l.x0=t.coords.start.page.x-d.x,l.y0=t.coords.start.page.y-d.y,l.clientX0=t.coords.start.client.x-d.x,l.clientY0=t.coords.start.client.y-d.y,l.delta=p||v?{x:0,y:0}:{x:l[f].x-h[f].x,y:l[f].y-h[f].y},l.dt=t.coords.delta.timeStamp,l.duration=l.timeStamp-l.t0,l.velocity=(0,zn.default)({},t.coords.velocity[f]),l.speed=(0,Fn.default)(l.velocity.x,l.velocity.y),l.swipe=v||"inertiastart"===i?l.getSwipe():null,l}return(n=[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var e=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;e<0&&(e+=360);var n=112.5<=e&&e<247.5,r=202.5<=e&&e<337.5;return{up:r,down:!r&&22.5<=e&&e<157.5,left:n,right:!n&&(292.5<=e||e<67.5),angle:e,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(o.prototype,n),o}(Wn.default);Rn.InteractEvent=qn,Object.defineProperties(qn.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var Gn=qn;Rn.default=Gn;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=Kn.PointerInfo=void 0;var Jn=function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=r,this.downTime=o,this.downTarget=i};Kn.PointerInfo=Jn;var Qn=Jn;Kn.default=Qn;var Zn={};function tr(t){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Zn,"__esModule",{value:!0}),Object.defineProperty(Zn,"PointerInfo",{enumerable:!0,get:function(){return lr.default}}),Zn.default=Zn.Interaction=Zn._ProxyMethods=Zn._ProxyValues=void 0;var er,nr,rr=dr(Tt),or=cr(G),ir=cr(ut),ar=dr(dt),sr=dr(K),ur=cr(Rn),lr=cr(Kn);function cr(t){return t&&t.__esModule?t:{default:t}}function fr(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return fr=function(){return t},t}function dr(t){if(t&&t.__esModule)return t;if(null===t||"object"!==tr(t)&&"function"!=typeof t)return{default:t};var e=fr();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e,n){return e&&pr(t.prototype,e),n&&pr(t,n),t}Zn._ProxyValues=er,function(t){t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy=""}(er||(Zn._ProxyValues=er={})),Zn._ProxyMethods=nr,function(t){t.start="",t.move="",t.end="",t.stop="",t.interacting=""}(nr||(Zn._ProxyMethods=nr={}));var hr=0,yr=function(){function t(e){var n=this,r=e.pointerType,o=e.scopeFire;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.interactable=null,this.element=null,this.rect=void 0,this._rects=void 0,this.edges=void 0,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=null,this.simulation=null,this.doMove=(0,Pe.warnOnce)((function(t){this.move(t)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:ar.newCoords(),prev:ar.newCoords(),cur:ar.newCoords(),delta:ar.newCoords(),velocity:ar.newCoords()},this._id=hr++,this._scopeFire=o,this.pointerType=r;var i=this;this._proxy={};var a=function(t){Object.defineProperty(n._proxy,t,{get:function(){return i[t]}})};for(var s in er)a(s);var u=function(t){Object.defineProperty(n._proxy,t,{value:function(){return i[t].apply(i,arguments)}})};for(var l in nr)u(l);this._scopeFire("interactions:new",{interaction:this})}return vr(t,[{key:"pointerMoveTolerance",get:function(){return 1}}]),vr(t,[{key:"pointerDown",value:function(t,e,n){var r=this.updatePointer(t,e,n,!0),o=this.pointers[r];this._scopeFire("interactions:down",{pointer:t,event:e,eventTarget:n,pointerIndex:r,pointerInfo:o,type:"down",interaction:this})}},{key:"start",value:function(t,e,n){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<("gesture"===t.name?2:1)||!e.options[t.name].enabled)&&((0,Pe.copyAction)(this.prepared,t),this.interactable=e,this.element=n,this.rect=e.getRect(n),this.edges=this.prepared.edges?(0,or.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,e,n){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,e,n,!1);var r,o,i=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,o=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,ir.default)(r,o)>this.pointerMoveTolerance);var a=this.getPointerIndex(t),s={pointer:t,pointerIndex:a,pointerInfo:this.pointers[a],event:e,type:"move",eventTarget:n,dx:r,dy:o,duplicate:i,interaction:this};i||ar.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",s),i||this.simulation||(this.interacting()&&(s.type=null,this.move(s)),this.pointerWasMoved&&ar.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||ar.setZeroCoords(this.coords.delta),(t=(0,or.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,e,n,r){var o=this.getPointerIndex(t);-1===o&&(o=this.updatePointer(t,e,n,!1));var i=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(i),{pointer:t,pointerIndex:o,pointerInfo:this.pointers[o],event:e,eventTarget:n,type:i,curEventTarget:r,interaction:this}),this.simulation||this.end(e),this.pointerIsDown=!1,this.removePointer(t,e)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var e;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,!0===e&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var e=ar.getPointerId(t);return"mouse"===this.pointerType||"pen"===this.pointerType?this.pointers.length-1:rr.findIndex(this.pointers,(function(t){return t.id===e}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,e,n,r){var o=ar.getPointerId(t),i=this.getPointerIndex(t),a=this.pointers[i];return r=!1!==r&&(r||/(down|start)$/i.test(e.type)),a?a.pointer=t:(a=new lr.default(o,t,e,null,null),i=this.pointers.length,this.pointers.push(a)),ar.setCoords(this.coords.cur,this.pointers.map((function(t){return t.pointer})),this._now()),ar.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),r&&(this.pointerIsDown=!0,a.downTime=this.coords.cur.timeStamp,a.downTarget=n,ar.pointerExtend(this.downPointer,t),this.interacting()||(ar.copyCoords(this.coords.start,this.coords.cur),ar.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(t,e,n),this._scopeFire("interactions:update-pointer",{pointer:t,event:e,eventTarget:n,down:r,pointerInfo:a,pointerIndex:i,interaction:this}),i}},{key:"removePointer",value:function(t,e){var n=this.getPointerIndex(t);if(-1!==n){var r=this.pointers[n];this._scopeFire("interactions:remove-pointer",{pointer:t,event:e,eventTarget:null,pointerIndex:n,pointerInfo:r,interaction:this}),this.pointers.splice(n,1)}}},{key:"_updateLatestPointer",value:function(t,e,n){this._latestPointer.pointer=t,this._latestPointer.event=e,this._latestPointer.eventTarget=n}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,e,n,r){return new ur.default(this,t,this.prepared.name,e,this.element,n,r)}},{key:"_fireEvent",value:function(t){this.interactable.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var e=t.event,n=t.phase,r=t.preEnd,o=t.type,i=this.rect;if(i&&"move"===n&&(sr.addEdges(this.edges,i,this.coords.delta[this.interactable.options.deltaSource]),i.width=i.right-i.left,i.height=i.bottom-i.top),!1===this._scopeFire("interactions:before-action-".concat(n),t))return!1;var a=t.iEvent=this._createPreparedEvent(e,n,r,o);return this._scopeFire("interactions:action-".concat(n),t),"start"===n&&(this.prevEvent=a),this._fireEvent(a),this._scopeFire("interactions:after-action-".concat(n),t),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();Zn.Interaction=yr;var gr=yr;Zn.default=gr;var mr={};function br(t){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(mr,"__esModule",{value:!0}),mr.default=void 0;var _r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==br(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}($),Or={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0;e<Or.methodOrder.length;e++){var n;n=Or.methodOrder[e];var r=Or[n](t);if(r)return r}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,r=t.eventTarget,o=t.scope;if(!/down|start/i.test(n))return null;for(var i=0;i<o.interactions.list.length;i++){var a=o.interactions.list[i],s=r;if(a.simulation&&a.simulation.allowResume&&a.pointerType===e)for(;s;){if(s===a.element)return a;s=_r.parentNode(s)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,r=t.pointerType,o=t.eventType,i=t.scope;if("mouse"!==r&&"pen"!==r)return null;for(var a=0;a<i.interactions.list.length;a++){var s=i.interactions.list[a];if(s.pointerType===r){if(s.simulation&&!wr(s,n))continue;if(s.interacting())return s;e||(e=s)}}if(e)return e;for(var u=0;u<i.interactions.list.length;u++){var l=i.interactions.list[u];if(!(l.pointerType!==r||/down/i.test(o)&&l.simulation))return l}return null},hasPointer:function(t){for(var e=t.pointerId,n=t.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(wr(o,e))return o}return null},idle:function(t){for(var e=t.pointerType,n=t.scope,r=0;r<n.interactions.list.length;r++){var o=n.interactions.list[r];if(1===o.pointers.length){var i=o.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&e===o.pointerType)return o}return null}};function wr(t,e){return t.pointers.some((function(t){return t.id===e}))}var xr=Or;mr.default=xr;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.default=void 0;var Pr=Dr(T),Mr=Dr(M),jr=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ir(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(dt),Er=Dr(Zn),kr=Dr(Mn),Tr=Dr(mr);function Dr(t){return t&&t.__esModule?t:{default:t}}function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ar(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Rr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $r(t,e){return!e||"object"!==Ir(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Nr(t,e){return function(n){var r=e.interactions.list,o=jr.getPointerType(n),i=Cr(jr.getEventTargets(n),2),a=i[0],s=i[1],u=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var l=0;l<n.changedTouches.length;l++){var c=n.changedTouches[l],f={pointer:c,pointerId:jr.getPointerId(c),pointerType:o,eventType:n.type,eventTarget:a,curEventTarget:s,scope:e},d=Xr(f);u.push([f.pointer,f.eventTarget,f.curEventTarget,d])}}else{var p=!1;if(!Pr.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var v=0;v<r.length&&!p;v++)p="mouse"!==r[v].pointerType&&r[v].pointerIsDown;p=p||e.now()-e.prevTouchTime<500||0===n.timeStamp}if(!p){var h={pointer:n,pointerId:jr.getPointerId(n),pointerType:o,eventType:n.type,curEventTarget:s,eventTarget:a,scope:e},y=Xr(h);u.push([h.pointer,h.eventTarget,h.curEventTarget,y])}}for(var g=0;g<u.length;g++){var m=Cr(u[g],4),b=m[0],_=m[1],O=m[2];m[3][t](b,n,_,O)}}}function Xr(t){var e=t.pointerType,n=t.scope,r={interaction:Tr.default.search(t),searchDetails:t};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:e})}function Yr(t,e){var n=t.doc,r=t.scope,o=t.options,i=r.interactions.docEvents,a=r.events,s=a[e];for(var u in r.browser.isIOS&&!o.events&&(o.events={passive:!1}),a.delegatedEvents)s(n,u,a.delegateListener),s(n,u,a.delegateUseCapture,!0);for(var l=o&&o.events,c=0;c<i.length;c++){var f=i[c];s(n,f.type,f.listener,l)}}var Ur={id:"core/interactions",install:function(t){for(var e={},n=0;n<Lr.length;n++){var r=Lr[n];e[r]=Nr(r,t)}var o,i=Pr.default.pEventTypes;function a(){for(var e=0;e<t.interactions.list.length;e++){var n=t.interactions.list[e];if(n.pointerIsDown&&"touch"===n.pointerType&&!n._interacting)for(var r=function(){var e=n.pointers[o];t.documents.some((function(t){var n=t.doc;return(0,$.nodeContains)(n,e.downTarget)}))||n.removePointer(e.pointer,e.event)},o=0;o<n.pointers.length;o++)r()}}(o=Mr.default.PointerEvent?[{type:i.down,listener:a},{type:i.down,listener:e.pointerDown},{type:i.move,listener:e.pointerMove},{type:i.up,listener:e.pointerUp},{type:i.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(e){for(var n=0;n<t.interactions.list.length;n++)t.interactions.list[n].documentBlur(e)}}),t.prevTouchTime=0,t.Interaction=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(i,e);var n,r,o=(n=i,function(){var t,e=Wr(n);if(Fr()){var r=Wr(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return $r(this,t)});function i(){return Rr(this,i),o.apply(this,arguments)}return(r=[{key:"_now",value:function(){return t.now()}},{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(e){t.interactions.pointerMoveTolerance=e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(i.prototype,r),i}(Er.default),t.interactions={list:[],new:function(e){e.scopeFire=function(e,n){return t.fire(e,n)};var n=new t.Interaction(e);return t.interactions.list.push(n),n},listeners:e,docEvents:o,pointerMoveTolerance:1},t.usePlugin(kr.default)},listeners:{"scope:add-document":function(t){return Yr(t,"add")},"scope:remove-document":function(t){return Yr(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,r=e.interactions.list.length-1;r>=0;r--){var o=e.interactions.list[r];o.interactable===n&&(o.stop(),e.fire("interactions:destroy",{interaction:o}),o.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(r,1))}}},onDocSignal:Yr,doOnInteractions:Nr,methodNames:Lr};Sr.default=Ur;var Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Br.default=void 0;var Hr,Vr=Jr(M),qr=Jr(G),Gr=Jr(d),Kr=Jr(i);function Jr(t){return t&&t.__esModule?t:{default:t}}function Qr(t){return function(t){if(Array.isArray(t))return Zr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Zr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}!function(t){t.touchAction="touchAction",t.boxSizing="boxSizing",t.noListeners="noListeners"}(Hr||(Hr={}));var to={touchAction:"https://developer.mozilla.org/en-US/docs/Web/CSS/touch-action",boxSizing:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-sizing"},eo=[{name:Hr.touchAction,perform:function(t){return!function(t,e,n){for(var r=t;Gr.default.element(r);){if(no(r,"touchAction",n))return!0;r=(0,$.parentNode)(r)}return!1}(t.element,0,/pan-|pinch|none/)},getInfo:function(t){return[t.element,to.touchAction]},text:'Consider adding CSS "touch-action: none" to this element\n'},{name:Hr.boxSizing,perform:function(t){var e=t.element;return"resize"===t.prepared.name&&e instanceof Vr.default.HTMLElement&&!no(e,"boxSizing",/border-box/)},text:'Consider adding CSS "box-sizing: border-box" to this resizable element',getInfo:function(t){return[t.element,to.boxSizing]}},{name:Hr.noListeners,perform:function(t){var e=t.prepared.name;return!(t.interactable.events.types["".concat(e,"move")]||[]).length},getInfo:function(t){return[t.prepared.name,t.interactable]},text:"There are no listeners set for this action"}];function no(t,e,n){return n.test(t.style[e]||Kr.default.window.getComputedStyle(t)[e])}var ro={id:"dev-tools",install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.logger,r=t.Interactable,o=t.defaults;t.logger=n||console,o.base.devTools={ignore:{}},r.prototype.devTools=function(t){return t?((0,qr.default)(this.options.devTools,t),this):this.options.devTools}},listeners:{"interactions:action-start":function(t,e){for(var n=t.interaction,r=0;r<eo.length;r++){var o,i=eo[r],a=n.interactable&&n.interactable.options;a&&a.devTools&&a.devTools.ignore[i.name]||!i.perform(n)||(o=e.logger).warn.apply(o,["[interact.js] "+i.text].concat(Qr(i.getInfo(n))))}}},checks:eo,CheckName:Hr,links:to,prefix:"[interact.js] "};Br.default=ro;var oo={};function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(oo,"__esModule",{value:!0}),oo.default=function t(e){var n={};for(var r in e){var o=e[r];so.default.plainObject(o)?n[r]=t(o):so.default.array(o)?n[r]=ao.from(o):n[r]=o}return n};var ao=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==io(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(Tt),so=function(t){return t&&t.__esModule?t:{default:t}}(d),uo={};function lo(t){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(uo,"__esModule",{value:!0}),uo.getRectOffset=bo,uo.default=void 0;var co=vo(oo),fo=vo(G),po=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==lo(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(K);function vo(t){return t&&t.__esModule?t:{default:t}}function ho(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return yo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yo(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var go=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=null,this.result=null,this.endResult=null,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=mo()}var e;return(e=[{key:"start",value:function(t,e){var n=t.phase,r=this.interaction,o=function(t){var e=t.interactable.options[t.prepared.name],n=e.modifiers;return n&&n.length?n.filter((function(t){return!t.options||!1!==t.options.enabled})):["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(t){var n=e[t];return n&&n.enabled&&{options:n,methods:n._methods}})).filter((function(t){return!!t}))}(r);this.prepareStates(o),this.edges=(0,fo.default)({},r.edges),this.startOffset=bo(r.rect,e),this.startDelta={x:0,y:0};var i={phase:n,pageCoords:e,preEnd:!1};return this.result=mo(),this.startAll(i),this.result=this.setAll(i)}},{key:"fillArg",value:function(t){var e=this.interaction;t.interaction=e,t.interactable=e.interactable,t.element=e.element,t.rect=t.rect||e.rect,t.edges=this.edges,t.startOffset=this.startOffset}},{key:"startAll",value:function(t){this.fillArg(t);for(var e=0;e<this.states.length;e++){var n=this.states[e];n.methods.start&&(t.state=n,n.methods.start(t))}}},{key:"setAll",value:function(t){this.fillArg(t);var e=t.phase,n=t.preEnd,r=t.skipModifiers,o=t.rect;t.coords=(0,fo.default)({},t.pageCoords),t.rect=(0,fo.default)({},o);for(var i=r?this.states.slice(r):this.states,a=mo(t.coords,t.rect),s=0;s<i.length;s++){var u=i[s],l=u.options,c=(0,fo.default)({},t.coords),f=null;u.methods.set&&this.shouldDo(l,n,e)&&(t.state=u,f=u.methods.set(t),po.addEdges(this.interaction.edges,t.rect,{x:t.coords.x-c.x,y:t.coords.y-c.y})),a.eventProps.push(f)}a.delta.x=t.coords.x-t.pageCoords.x,a.delta.y=t.coords.y-t.pageCoords.y,a.rectDelta.left=t.rect.left-o.left,a.rectDelta.right=t.rect.right-o.right,a.rectDelta.top=t.rect.top-o.top,a.rectDelta.bottom=t.rect.bottom-o.bottom;var d=this.result.coords,p=this.result.rect;if(d&&p){var v=a.rect.left!==p.left||a.rect.right!==p.right||a.rect.top!==p.top||a.rect.bottom!==p.bottom;a.changed=v||d.x!==a.coords.x||d.y!==a.coords.y}return a}},{key:"applyToInteraction",value:function(t){var e=this.interaction,n=t.phase,r=e.coords.cur,o=e.coords.start,i=this.result,a=this.startDelta,s=i.delta;"start"===n&&(0,fo.default)(this.startDelta,i.delta);for(var u=[[o,a],[r,s]],l=0;l<u.length;l++){var c=ho(u[l],2),f=c[0],d=c[1];f.page.x+=d.x,f.page.y+=d.y,f.client.x+=d.x,f.client.y+=d.y}var p=this.result.rectDelta,v=t.rect||e.rect;v.left+=p.left,v.right+=p.right,v.top+=p.top,v.bottom+=p.bottom,v.width=v.right-v.left,v.height=v.bottom-v.top}},{key:"setAndApply",value:function(t){var e=this.interaction,n=t.phase,r=t.preEnd,o=t.skipModifiers,i=this.setAll({preEnd:r,phase:n,pageCoords:t.modifiedCoords||e.coords.cur.page});if(this.result=i,!i.changed&&(!o||o<this.states.length)&&e.interacting())return!1;if(t.modifiedCoords){var a=e.coords.cur.page,s={x:t.modifiedCoords.x-a.x,y:t.modifiedCoords.y-a.y};i.coords.x+=s.x,i.coords.y+=s.y,i.delta.x+=s.x,i.delta.y+=s.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var e=t.interaction,n=t.event,r=this.states;if(r&&r.length){for(var o=!1,i=0;i<r.length;i++){var a=r[i];t.state=a;var s=a.options,u=a.methods,l=u.beforeEnd&&u.beforeEnd(t);if(l)return this.endResult=l,!1;o=o||!o&&this.shouldDo(s,!0,t.phase,!0)}o&&e.move({event:n,preEnd:!0})}}},{key:"stop",value:function(t){var e=t.interaction;if(this.states&&this.states.length){var n=(0,fo.default)({states:this.states,interactable:e.interactable,element:e.element,rect:null},t);this.fillArg(n);for(var r=0;r<this.states.length;r++){var o=this.states[r];n.state=o,o.methods.stop&&o.methods.stop(n)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var e=0;e<t.length;e++){var n=t[e],r=n.options,o=n.methods,i=n.name;r&&!1===r.enabled||this.states.push({options:r,methods:o,index:e,name:i})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var e=t.interaction,n=e.coords,r=e.rect,o=e.modification;if(o.result){for(var i=o.startDelta,a=o.result,s=a.delta,u=a.rectDelta,l=[[n.start,i],[n.cur,s]],c=0;c<l.length;c++){var f=ho(l[c],2),d=f[0],p=f[1];d.page.x-=p.x,d.page.y-=p.y,d.client.x-=p.x,d.client.y-=p.y}r.left-=u.left,r.right-=u.right,r.top-=u.top,r.bottom-=u.bottom}}},{key:"shouldDo",value:function(t,e,n,r){return!(!t||!1===t.enabled||r&&!t.endOnly||t.endOnly&&!e||"start"===n&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.edges=t.edges,this.states=t.states.map((function(t){return(0,co.default)(t)})),this.result=mo((0,fo.default)({},t.result.coords),(0,fo.default)({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function mo(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function bo(t,e){return t?{left:e.x-t.left,top:e.y-t.top,right:t.right-e.x,bottom:t.bottom-e.y}:{left:0,top:0,right:0,bottom:0}}uo.default=go;var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),_o.makeModifier=function(t,e){var n=t.defaults,r={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},o=function(t){var o=t||{};for(var i in o.enabled=!1!==o.enabled,n)i in o||(o[i]=n[i]);return{options:o,methods:r,name:e}};return e&&"string"==typeof e&&(o._defaults=n,o._methods=r),o},_o.addEventModifiers=wo,_o.default=void 0;var Oo=function(t){return t&&t.__esModule?t:{default:t}}(uo);function wo(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var xo={id:"modifiers/base",install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new Oo.default(e)},"interactions:before-action-start":function(t){var e=t.interaction.modification;e.start(t,t.interaction.coords.start.page),t.interaction.edges=e.edges,e.applyToInteraction(t)},"interactions:before-action-move":function(t){return t.interaction.modification.setAndApply(t)},"interactions:before-action-end":function(t){return t.interaction.modification.beforeEnd(t)},"interactions:action-start":wo,"interactions:action-move":wo,"interactions:action-end":wo,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}},before:["actions","action/drag","actions/resize","actions/gesture"]};_o.default=xo;var So={};function Po(t){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(So,"__esModule",{value:!0}),So.addTotal=jo,So.applyPending=ko,So.default=void 0;var Mo=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Po(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(K);function jo(t){t.pointerIsDown&&(Do(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}function Eo(t){ko(t.interaction)}function ko(t){if(!function(t){return!(!t.offset.pending.x&&!t.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Do(t.coords.cur,e),Do(t.coords.delta,e),Mo.addEdges(t.edges,t.rect,e),e.x=0,e.y=0,!0}function To(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Do(t,e){var n=t.page,r=t.client,o=e.x,i=e.y;n.x+=o,n.y+=i,r.x+=o,r.y+=i}Zn._ProxyMethods.offsetBy="";var Io={id:"offset",install:function(t){t.Interaction.prototype.offsetBy=To},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return jo(t.interaction)},"interactions:before-action-start":Eo,"interactions:before-action-move":Eo,"interactions:before-action-end":function(t){var e=t.interaction;if(ko(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}};So.default=Io;var Co={};function Ao(t){return(Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Co,"__esModule",{value:!0}),Co.default=Co.InertiaState=void 0;var Ro=Uo(uo),zo=Yo(_o),$o=Uo(So),Fo=Yo($),Wo=Uo(ut),Lo=Uo(d),No=Uo(ce);function Xo(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Xo=function(){return t},t}function Yo(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ao(t)&&"function"!=typeof t)return{default:t};var e=Xo();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function Uo(t){return t&&t.__esModule?t:{default:t}}var Bo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=null,this.modifierCount=0,this.modifierArg=null,this.startCoords=null,this.t0=0,this.v0=0,this.te=0,this.targetOffset=null,this.modifiedOffset=null,this.currentOffset=null,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=null,this.interaction=void 0,this.interaction=e}var e;return(e=[{key:"start",value:function(t){var e=this.interaction,n=Ho(e);if(!n||!n.enabled)return!1;var r=e.coords.velocity.client,o=(0,Wo.default)(r.x,r.y),i=this.modification||(this.modification=new Ro.default(e));if(i.copyFrom(e.modification),this.t0=e._now(),this.allowResume=n.allowResume,this.v0=o,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg={interaction:e,interactable:e.interactable,element:e.element,rect:e.rect,edges:e.edges,pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"},this.t0-e.coords.cur.timeStamp<50&&o>n.minSpeed&&o>n.endSpeed)this.startInertia();else{if(i.result=i.setAll(this.modifierArg),!i.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:t,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,e=this.interaction.coords.velocity.client,n=Ho(this.interaction),r=n.resistance,o=-Math.log(n.endSpeed/this.v0)/r;this.targetOffset={x:(e.x-o)/r,y:(e.y-o)/r},this.te=o,this.lambda_v0=r/this.v0,this.one_ve_v0=1-n.endSpeed/this.v0;var i=this.modification,a=this.modifierArg;a.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},i.result=i.setAll(a),i.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+i.result.delta.x,y:this.targetOffset.y+i.result.delta.y}),this.timeout=No.default.request((function(){return t.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.timeout=No.default.request((function(){return t.smoothEndTick()}))}},{key:"inertiaTick",value:function(){var t,e,n,r,o,i=this,a=this.interaction,s=Ho(a).resistance,u=(a._now()-this.t0)/1e3;if(u<this.te){var l,c=1-(Math.exp(-s*u)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=this.targetOffset.x,e=this.targetOffset.y,n=this.modifiedOffset.x,r=this.modifiedOffset.y,l={x:Vo(o=c,0,t,n),y:Vo(o,0,e,r)}):l={x:this.targetOffset.x*c,y:this.targetOffset.y*c};var f={x:l.x-this.currentOffset.x,y:l.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,a.offsetBy(f),a.move(),this.timeout=No.default.request((function(){return i.inertiaTick()}))}else a.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,e=this.interaction,n=e._now()-this.t0,r=Ho(e).smoothEndDuration;if(n<r){var o={x:qo(n,0,this.targetOffset.x,r),y:qo(n,0,this.targetOffset.y,r)},i={x:o.x-this.currentOffset.x,y:o.y-this.currentOffset.y};this.currentOffset.x+=i.x,this.currentOffset.y+=i.y,e.offsetBy(i),e.move({skipModifiers:this.modifierCount}),this.timeout=No.default.request((function(){return t.smoothEndTick()}))}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var e=t.pointer,n=t.event,r=t.eventTarget,o=this.interaction;o.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),o.updatePointer(e,n,r,!0),o._doPhase({interaction:o,event:n,phase:"resume"}),(0,dt.copyCoords)(o.coords.prev,o.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,No.default.cancel(this.timeout)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function Ho(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}function Vo(t,e,n,r){var o=1-t;return o*o*e+2*o*t*n+t*t*r}function qo(t,e,n,r){return-n*(t/=r)*(t-2)+e}Co.InertiaState=Bo;var Go={id:"inertia",before:["modifiers/base"],install:function(t){var e=t.defaults;t.usePlugin($o.default),t.usePlugin(zo.default),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new Bo(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,r=e.inertia;if(r.active)for(var o=n;Lo.default.element(o);){if(o===e.element){r.resume(t);break}o=Fo.parentNode(o)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":zo.addEventModifiers,"interactions:action-inertiastart":zo.addEventModifiers,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};Co.default=Go;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.default=void 0,Ko.default=function(){};var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.default=void 0,Jo.default=function(){};var Qo={};function Zo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ti(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=void 0,Qo.default=function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(e){var n=Zo(e,2),r=n[0],o=n[1];return r in t||o in t})),n=function(n,r){for(var o=t.range,i=t.limits,a=void 0===i?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:i,s=t.offset,u=void 0===s?{x:0,y:0}:s,l={range:o,grid:t,x:null,y:null},c=0;c<e.length;c++){var f=Zo(e[c],2),d=f[0],p=f[1],v=Math.round((n-u.x)/t[d]),h=Math.round((r-u.y)/t[p]);l[d]=Math.max(a.left,Math.min(a.right,v*t[d]+u.x)),l[p]=Math.max(a.top,Math.min(a.bottom,h*t[p]+u.y))}return l};return n.grid=t,n.coordFields=e,n};var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),Object.defineProperty(ei,"edgeTarget",{enumerable:!0,get:function(){return ni.default}}),Object.defineProperty(ei,"elements",{enumerable:!0,get:function(){return ri.default}}),Object.defineProperty(ei,"grid",{enumerable:!0,get:function(){return oi.default}});var ni=ii(Ko),ri=ii(Jo),oi=ii(Qo);function ii(t){return t&&t.__esModule?t:{default:t}}var ai={};function si(t){return(si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ai,"__esModule",{value:!0}),ai.default=void 0;var ui=function(t){return t&&t.__esModule?t:{default:t}}(G),li=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==si(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(ei),ci={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=(0,ui.default)(e.snappers||{},li),e.createSnapGrid=e.snappers.grid}};ai.default=ci;var fi={};Object.defineProperty(fi,"__esModule",{value:!0}),fi.aspectRatio=fi.default=void 0;var di=vi(G),pi=vi(uo);function vi(t){return t&&t.__esModule?t:{default:t}}function hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hi(Object(n),!0).forEach((function(e){gi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mi={start:function(t){var e=t.state,n=t.rect,r=t.edges,o=t.pageCoords,i=e.options.ratio,a=e.options,s=a.equalDelta,u=a.modifiers;"preserve"===i&&(i=n.width/n.height),e.startCoords=(0,di.default)({},o),e.startRect=(0,di.default)({},n),e.ratio=i,e.equalDelta=s;var l=e.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(e.xIsPrimaryAxis=!(!r.left&&!r.right),e.equalDelta)e.edgeSign=(l.left?1:-1)*(l.top?1:-1);else{var c=e.xIsPrimaryAxis?l.top:l.left;e.edgeSign=c?-1:1}if((0,di.default)(t.edges,l),u&&u.length){var f=new pi.default(t.interaction);f.copyFrom(t.interaction.modification),f.prepareStates(u),e.subModification=f,f.startAll(yi({},t))}},set:function(t){var e=t.state,n=t.rect,r=t.coords,o=(0,di.default)({},r),i=e.equalDelta?bi:_i;if(i(e,e.xIsPrimaryAxis,r,n),!e.subModification)return null;var a=(0,di.default)({},n);(0,K.addEdges)(e.linkedEdges,a,{x:r.x-o.x,y:r.y-o.y});var s=e.subModification.setAll(yi({},t,{rect:a,edges:e.linkedEdges,pageCoords:r,prevCoords:r,prevRect:a})),u=s.delta;return s.changed&&(i(e,Math.abs(u.x)>Math.abs(u.y),s.coords,s.rect),(0,di.default)(r,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function bi(t,e,n){var r=t.startCoords,o=t.edgeSign;e?n.y=r.y+(n.x-r.x)*o:n.x=r.x+(n.y-r.y)*o}function _i(t,e,n,r){var o=t.startRect,i=t.startCoords,a=t.ratio,s=t.edgeSign;if(e){var u=r.width/a;n.y=i.y+(u-o.height)*s}else{var l=r.height*a;n.x=i.x+(l-o.width)*s}}fi.aspectRatio=mi;var Oi=(0,_o.makeModifier)(mi,"aspectRatio");fi.default=Oi;var wi={};Object.defineProperty(wi,"__esModule",{value:!0}),wi.default=void 0;var xi=function(){};xi._defaults={};var Si=xi;wi.default=Si;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0}),Object.defineProperty(Pi,"default",{enumerable:!0,get:function(){return Mi.default}});var Mi=function(t){return t&&t.__esModule?t:{default:t}}(wi),ji={};function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ji,"__esModule",{value:!0}),ji.getRestrictionRect=Ci,ji.restrict=ji.default=void 0;var ki=Ii(G),Ti=Ii(d),Di=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ei(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(K);function Ii(t){return t&&t.__esModule?t:{default:t}}function Ci(t,e,n){return Ti.default.func(t)?Di.resolveRectLike(t,e.interactable,e.element,[n.x,n.y,e]):Di.resolveRectLike(t,e.interactable,e.element)}var Ai={start:function(t){var e=t.rect,n=t.startOffset,r=t.state,o=t.interaction,i=t.pageCoords,a=r.options,s=a.elementRect,u=(0,ki.default)({left:0,top:0,right:0,bottom:0},a.offset||{});if(e&&s){var l=Ci(a.restriction,o,i);if(l){var c=l.right-l.left-e.width,f=l.bottom-l.top-e.height;c<0&&(u.left+=c,u.right+=c),f<0&&(u.top+=f,u.bottom+=f)}u.left+=n.left-e.width*s.left,u.top+=n.top-e.height*s.top,u.right+=n.right-e.width*(1-s.right),u.bottom+=n.bottom-e.height*(1-s.bottom)}r.offset=u},set:function(t){var e=t.coords,n=t.interaction,r=t.state,o=r.options,i=r.offset,a=Ci(o.restriction,n,e);if(a){var s=Di.xywhToTlbr(a);e.x=Math.max(Math.min(s.right-i.right,e.x),s.left+i.left),e.y=Math.max(Math.min(s.bottom-i.bottom,e.y),s.top+i.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ji.restrict=Ai;var Ri=(0,_o.makeModifier)(Ai,"restrict");ji.default=Ri;var zi={};function $i(t){return($i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(zi,"__esModule",{value:!0}),zi.restrictEdges=zi.default=void 0;var Fi=function(t){return t&&t.__esModule?t:{default:t}}(G),Wi=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==$i(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(K),Li={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ni={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Xi(t,e){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var o=n[r];o in t||(t[o]=e[o])}return t}var Yi={noInner:Li,noOuter:Ni,start:function(t){var e,n=t.interaction,r=t.startOffset,o=t.state,i=o.options;if(i){var a=(0,ji.getRestrictionRect)(i.offset,n,n.coords.start.page);e=Wi.rectToXY(a)}e=e||{x:0,y:0},o.offset={top:e.y+r.top,left:e.x+r.left,bottom:e.y-r.bottom,right:e.x-r.right}},set:function(t){var e=t.coords,n=t.edges,r=t.interaction,o=t.state,i=o.offset,a=o.options;if(n){var s=(0,Fi.default)({},e),u=(0,ji.getRestrictionRect)(a.inner,r,s)||{},l=(0,ji.getRestrictionRect)(a.outer,r,s)||{};Xi(u,Li),Xi(l,Ni),n.top?e.y=Math.min(Math.max(l.top+i.top,s.y),u.top+i.top):n.bottom&&(e.y=Math.max(Math.min(l.bottom+i.bottom,s.y),u.bottom+i.bottom)),n.left?e.x=Math.min(Math.max(l.left+i.left,s.x),u.left+i.left):n.right&&(e.x=Math.max(Math.min(l.right+i.right,s.x),u.right+i.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};zi.restrictEdges=Yi;var Ui=(0,_o.makeModifier)(Yi,"restrictEdges");zi.default=Ui;var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.restrictRect=Bi.default=void 0;var Hi=(0,function(t){return t&&t.__esModule?t:{default:t}}(G).default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},ji.restrict.defaults),Vi={start:ji.restrict.start,set:ji.restrict.set,defaults:Hi};Bi.restrictRect=Vi;var qi=(0,_o.makeModifier)(Vi,"restrictRect");Bi.default=qi;var Gi={};function Ki(t){return(Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.restrictSize=Gi.default=void 0;var Ji=function(t){return t&&t.__esModule?t:{default:t}}(G),Qi=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ki(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(K),Zi={width:-1/0,height:-1/0},ta={width:1/0,height:1/0},ea={start:function(t){return zi.restrictEdges.start(t)},set:function(t){var e=t.interaction,n=t.state,r=t.rect,o=t.edges,i=n.options;if(o){var a=Qi.tlbrToXywh((0,ji.getRestrictionRect)(i.min,e,t.coords))||Zi,s=Qi.tlbrToXywh((0,ji.getRestrictionRect)(i.max,e,t.coords))||ta;n.options={endOnly:i.endOnly,inner:(0,Ji.default)({},zi.restrictEdges.noInner),outer:(0,Ji.default)({},zi.restrictEdges.noOuter)},o.top?(n.options.inner.top=r.bottom-a.height,n.options.outer.top=r.bottom-s.height):o.bottom&&(n.options.inner.bottom=r.top+a.height,n.options.outer.bottom=r.top+s.height),o.left?(n.options.inner.left=r.right-a.width,n.options.outer.left=r.right-s.width):o.right&&(n.options.inner.right=r.left+a.width,n.options.outer.right=r.left+s.width),zi.restrictEdges.set(t),n.options=i}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Gi.restrictSize=ea;var na=(0,_o.makeModifier)(ea,"restrictSize");Gi.default=na;var ra={};Object.defineProperty(ra,"__esModule",{value:!0}),Object.defineProperty(ra,"default",{enumerable:!0,get:function(){return oa.default}});var oa=function(t){return t&&t.__esModule?t:{default:t}}(wi),ia={};Object.defineProperty(ia,"__esModule",{value:!0}),ia.snap=ia.default=void 0;var aa=ca(G),sa=ca(nt),ua=ca(ut),la=ca(d);function ca(t){return t&&t.__esModule?t:{default:t}}var fa={start:function(t){var e,n=t.interaction,r=t.interactable,o=t.element,i=t.rect,a=t.state,s=t.startOffset,u=a.options,l=u.offsetWithOrigin?function(t){var e=t.interaction.element;return(0,K.rectToXY)((0,K.resolveRectLike)(t.state.options.origin,null,null,[e]))||(0,sa.default)(t.interactable,e,t.interaction.prepared.name)}(t):{x:0,y:0};if("startCoords"===u.offset)e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var c=(0,K.resolveRectLike)(u.offset,r,o,[n]);(e=(0,K.rectToXY)(c)||{x:0,y:0}).x+=l.x,e.y+=l.y}var f=u.relativePoints;a.offsets=i&&f&&f.length?f.map((function(t,n){return{index:n,relativePoint:t,x:s.left-i.width*t.x+e.x,y:s.top-i.height*t.y+e.y}})):[(0,aa.default)({index:0,relativePoint:null},e)]},set:function(t){var e=t.interaction,n=t.coords,r=t.state,o=r.options,i=r.offsets,a=(0,sa.default)(e.interactable,e.element,e.prepared.name),s=(0,aa.default)({},n),u=[];o.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(var l=0;l<i.length;l++)for(var c=i[l],f=s.x-c.x,d=s.y-c.y,p=0,v=o.targets.length;p<v;p++){var h,y=o.targets[p];(h=la.default.func(y)?y(f,d,e._proxy,c,p):y)&&u.push({x:(la.default.number(h.x)?h.x:f)+c.x,y:(la.default.number(h.y)?h.y:d)+c.y,range:la.default.number(h.range)?h.range:o.range,source:y,index:p,offset:c})}for(var g={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},m=0;m<u.length;m++){var b=u[m],_=b.range,O=b.x-s.x,w=b.y-s.y,x=(0,ua.default)(O,w),S=x<=_;_===1/0&&g.inRange&&g.range!==1/0&&(S=!1),g.target&&!(S?g.inRange&&_!==1/0?x/_<g.distance/g.range:_===1/0&&g.range!==1/0||x<g.distance:!g.inRange&&x<g.distance)||(g.target=b,g.distance=x,g.range=_,g.inRange=S,g.delta.x=O,g.delta.y=w)}return g.inRange&&(n.x=g.target.x,n.y=g.target.y),r.closest=g,g},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};ia.snap=fa;var da=(0,_o.makeModifier)(fa,"snap");ia.default=da;var pa={};Object.defineProperty(pa,"__esModule",{value:!0}),pa.snapSize=pa.default=void 0;var va=ya(G),ha=ya(d);function ya(t){return t&&t.__esModule?t:{default:t}}function ga(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ma(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ma(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ma(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ba={start:function(t){var e=t.state,n=t.edges,r=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],ia.snap.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,r=t.coords,o=n.options,i=n.offsets,a={x:r.x-i[0].x,y:r.y-i[0].y};n.options=(0,va.default)({},o),n.options.targets=[];for(var s=0;s<(o.targets||[]).length;s++){var u=(o.targets||[])[s],l=void 0;if(l=ha.default.func(u)?u(a.x,a.y,e):u){for(var c=0;c<n.targetFields.length;c++){var f=ga(n.targetFields[c],2),d=f[0],p=f[1];if(d in l||p in l){l.x=l[d],l.y=l[p];break}}n.options.targets.push(l)}}var v=ia.snap.set(t);return n.options=o,v},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};pa.snapSize=ba;var _a=(0,_o.makeModifier)(ba,"snapSize");pa.default=_a;var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0}),Oa.snapEdges=Oa.default=void 0;var wa=Sa(oo),xa=Sa(G);function Sa(t){return t&&t.__esModule?t:{default:t}}var Pa={start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],pa.snapSize.start(t)):null},set:pa.snapSize.set,defaults:(0,xa.default)((0,wa.default)(pa.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Oa.snapEdges=Pa;var Ma=(0,_o.makeModifier)(Pa,"snapEdges");Oa.default=Ma;var ja={};Object.defineProperty(ja,"__esModule",{value:!0}),Object.defineProperty(ja,"default",{enumerable:!0,get:function(){return Ea.default}});var Ea=function(t){return t&&t.__esModule?t:{default:t}}(wi),ka={};Object.defineProperty(ka,"__esModule",{value:!0}),Object.defineProperty(ka,"default",{enumerable:!0,get:function(){return Ta.default}});var Ta=function(t){return t&&t.__esModule?t:{default:t}}(wi),Da={};Object.defineProperty(Da,"__esModule",{value:!0}),Da.default=void 0;var Ia=Ua(fi),Ca=Ua(Pi),Aa=Ua(zi),Ra=Ua(ji),za=Ua(Bi),$a=Ua(Gi),Fa=Ua(ra),Wa=Ua(Oa),La=Ua(ia),Na=Ua(pa),Xa=Ua(ja),Ya=Ua(ka);function Ua(t){return t&&t.__esModule?t:{default:t}}var Ba={aspectRatio:Ia.default,restrictEdges:Aa.default,restrict:Ra.default,restrictRect:za.default,restrictSize:$a.default,snapEdges:Wa.default,snap:La.default,snapSize:Na.default,spring:Xa.default,avoid:Ca.default,transform:Ya.default,rubberband:Fa.default};Da.default=Ba;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.default=void 0;var Va=Ka(ai),qa=Ka(Da),Ga=Ka(_o);function Ka(t){return t&&t.__esModule?t:{default:t}}var Ja={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(Ga.default),t.usePlugin(Va.default),e.modifiers=qa.default,qa.default){var r=qa.default[n],o=r._defaults,i=r._methods;o._methods=i,t.defaults.perAction[n]=o}}};Ha.default=Ja;var Qa={};Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.PointerEvent=Qa.default=void 0;var Za=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==ts(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(dt);function ts(t){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function es(t,e){return(es=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ns(t,e){return!e||"object"!==ts(e)&&"function"!=typeof e?rs(t):e}function rs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function os(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function is(t){return(is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var as=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&es(t,e)}(o,t);var e,n,r=(e=o,function(){var t,n=is(e);if(os()){var r=is(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ns(this,t)});function o(t,e,n,i,a,s){var u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(u=r.call(this,a)).type=void 0,u.originalEvent=void 0,u.pointerId=void 0,u.pointerType=void 0,u.double=void 0,u.pageX=void 0,u.pageY=void 0,u.clientX=void 0,u.clientY=void 0,u.dt=void 0,u.eventable=void 0,Za.pointerExtend(rs(u),n),n!==e&&Za.pointerExtend(rs(u),e),u.timeStamp=s,u.originalEvent=n,u.type=t,u.pointerId=Za.getPointerId(e),u.pointerType=Za.getPointerType(e),u.target=i,u.currentTarget=null,"tap"===t){var l=a.getPointerIndex(e);u.dt=u.timeStamp-a.pointers[l].downTime;var c=u.timeStamp-a.tapTime;u.double=!!(a.prevTap&&"doubletap"!==a.prevTap.type&&a.prevTap.target===u.target&&c<500)}else"doubletap"===t&&(u.dt=e.timeStamp-a.tapTime);return u}return(n=[{key:"_subtractOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX-=e,this.pageY-=n,this.clientX-=e,this.clientY-=n,this}},{key:"_addOrigin",value:function(t){var e=t.x,n=t.y;return this.pageX+=e,this.pageY+=n,this.clientX+=e,this.clientY+=n,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(o.prototype,n),o}(function(t){return t&&t.__esModule?t:{default:t}}(jt).default);Qa.PointerEvent=Qa.default=as;var ss={};function us(t){return(us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(ss,"__esModule",{value:!0}),ss.default=void 0;var ls=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==us(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}($),cs=ps(G),fs=ps(nt),ds=ps(Qa);function ps(t){return t&&t.__esModule?t:{default:t}}var vs={id:"pointer-events/base",install:function(t){t.pointerEvents=vs,t.defaults.actions.pointerEvents=vs.defaults,(0,cs.default)(t.actions.phaselessTypes,vs.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget,a=t.duplicate,s=n.getPointerIndex(r);a||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&clearTimeout(n.pointers[s].hold.timeout),hs({interaction:n,pointer:r,event:o,eventTarget:i,type:"move"},e))},"interactions:down":function(t,e){!function(t,e){for(var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget,a=t.pointerIndex,s=n.pointers[a].hold,u=ls.getPath(i),l={interaction:n,pointer:r,event:o,eventTarget:i,type:"hold",targets:[],path:u,node:null},c=0;c<u.length;c++){var f=u[c];l.node=f,e.fire("pointerEvents:collect-targets",l)}if(l.targets.length){for(var d=1/0,p=0;p<l.targets.length;p++){var v=l.targets[p].eventable.options.holdDuration;v<d&&(d=v)}s.duration=d,s.timeout=setTimeout((function(){hs({interaction:n,eventTarget:i,pointer:r,event:o,type:"hold"},e)}),d)}}(t,e),hs(t,e)},"interactions:up":function(t,e){gs(t),hs(t,e),function(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget;n.pointerWasMoved||hs({interaction:n,eventTarget:i,pointer:r,event:o,type:"tap"},e)}(t,e)},"interactions:cancel":function(t,e){gs(t),hs(t,e)}},PointerEvent:ds.default,fire:hs,collectEventTargets:ys,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function hs(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget,a=t.type,s=t.targets,u=void 0===s?ys(t,e):s,l=new ds.default(a,r,o,i,n,e.now());e.fire("pointerEvents:new",{pointerEvent:l});for(var c={interaction:n,pointer:r,event:o,eventTarget:i,targets:u,type:a,pointerEvent:l},f=0;f<u.length;f++){var d=u[f];for(var p in d.props||{})l[p]=d.props[p];var v=(0,fs.default)(d.eventable,d.node);if(l._subtractOrigin(v),l.eventable=d.eventable,l.currentTarget=d.node,d.eventable.fire(l),l._addOrigin(v),l.immediatePropagationStopped||l.propagationStopped&&f+1<u.length&&u[f+1].node!==l.currentTarget)break}if(e.fire("pointerEvents:fired",c),"tap"===a){var h=l.double?hs({interaction:n,pointer:r,event:o,eventTarget:i,type:"doubletap"},e):l;n.prevTap=h,n.tapTime=h.timeStamp}return l}function ys(t,e){var n=t.interaction,r=t.pointer,o=t.event,i=t.eventTarget,a=t.type,s=n.getPointerIndex(r),u=n.pointers[s];if("tap"===a&&(n.pointerWasMoved||!u||u.downTarget!==i))return[];for(var l=ls.getPath(i),c={interaction:n,pointer:r,event:o,eventTarget:i,type:a,path:l,targets:[],node:null},f=0;f<l.length;f++){var d=l[f];c.node=d,e.fire("pointerEvents:collect-targets",c)}return"hold"===a&&(c.targets=c.targets.filter((function(t){return t.eventable.options.holdDuration===n.pointers[s].hold.duration}))),c.targets}function gs(t){var e=t.interaction,n=t.pointerIndex;e.pointers[n].hold&&clearTimeout(e.pointers[n].hold.timeout)}var ms=vs;ss.default=ms;var bs={};Object.defineProperty(bs,"__esModule",{value:!0}),bs.default=void 0;var _s=function(t){return t&&t.__esModule?t:{default:t}}(G);function Os(t){return(0,_s.default)(this.events.options,t),this}var ws={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=Os;var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(t,e){var r=n.call(this,t,e);return r===this&&(this.events.options[t]=e),r}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,r=t.node,o=t.type,i=t.eventTarget;e.interactables.forEachMatch(r,(function(t){var e=t.events,a=e.options;e.types[o]&&e.types[o].length&&t.testIgnoreAllow(a,r,i)&&n.push({node:r,eventable:e,props:{interactable:t}})}))},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(t){return e.getRect(t)}},"interactable:set":function(t,e){var n=t.interactable,r=t.options;(0,_s.default)(n.events.options,e.pointerEvents.defaults),(0,_s.default)(n.events.options,r.pointerEvents||{})}}};bs.default=ws;var xs={};function Ss(t){return(Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(xs,"__esModule",{value:!0}),xs.install=Is,xs.default=void 0;var Ps=Ds(Tt),Ms=ks(G),js=ks(d),Es=Ds(dt);function ks(t){return t&&t.__esModule?t:{default:t}}function Ts(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ts=function(){return t},t}function Ds(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ss(t)&&"function"!=typeof t)return{default:t};var e=Ts();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function Is(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(e){return function(t,e,n){for(var r=js.default.string(t.target)?Ps.from(t._context.querySelectorAll(t.target)):[t.target],o=n.window.Promise,i=o?[]:null,a=function(){var a=r[s],u=t.getRect(a);if(!u)return"break";var l=Ps.find(n.interactions.list,(function(n){return n.interacting()&&n.interactable===t&&n.element===a&&n.prepared.name===e.name})),c=void 0;if(l)l.move(),i&&(c=l._reflowPromise||new o((function(t){l._reflowResolve=t})));else{var f=(0,K.tlbrToXywh)(u),d={page:{x:f.x,y:f.y},client:{x:f.x,y:f.y},timeStamp:n.now()},p=Es.coordsToEvent(d);c=function(t,e,n,r,o){var i=t.interactions.new({pointerType:"reflow"}),a={interaction:i,event:o,pointer:o,eventTarget:n,phase:"reflow"};i.interactable=e,i.element=n,i.prepared=(0,Ms.default)({},r),i.prevEvent=o,i.updatePointer(o,o,n,!0),i._doPhase(a);var s=t.window.Promise,u=s?new s((function(t){i._reflowResolve=t})):null;return i._reflowPromise=u,i.start(r,e,n),i._interacting?(i.move(a),i.end(o)):i.stop(),i.removePointer(o,o),i.pointerIsDown=!1,u}(n,t,a,e,p)}i&&i.push(c)},s=0;s<r.length&&"break"!==a();s++);return i&&o.all(i).then((function(){return t}))}(this,e,t)}}var Cs={id:"reflow",install:Is,listeners:{"interactions:stop":function(t,e){var n=t.interaction;"reflow"===n.pointerType&&(n._reflowResolve&&n._reflowResolve(),Ps.remove(e.interactions.list,n))}}};xs.default=Cs;var As={};function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(As,"__esModule",{value:!0}),As.default=void 0;var zs=function(t){return t&&t.__esModule?t:{default:t}}(d),$s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Rs(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(dt);function Fs(t){var e=t.interaction,n=t.iEvent,r=t.phase;if("gesture"===e.prepared.name){var o=e.pointers.map((function(t){return t.pointer})),i="start"===r,a="end"===r,s=e.interactable.options.deltaSource;if(n.touches=[o[0],o[1]],i)n.distance=$s.touchDistance(o,s),n.box=$s.touchBBox(o),n.scale=1,n.ds=0,n.angle=$s.touchAngle(o,s),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(a){var u=e.prevEvent;n.distance=u.distance,n.box=u.box,n.scale=u.scale,n.ds=0,n.angle=u.angle,n.da=0}else n.distance=$s.touchDistance(o,s),n.box=$s.touchBBox(o),n.scale=n.distance/e.gesture.startDistance,n.angle=$s.touchAngle(o,s),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,zs.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var Ws={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,r=t.defaults;n.prototype.gesturable=function(t){return zs.default.object(t)?(this.options.gesture.enabled=!1!==t.enabled,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):zs.default.bool(t)?(this.options.gesture.enabled=t,this):this.options.gesture},e.map.gesture=Ws,e.methodDict.gesture="gesturable",r.actions.gesture=Ws.defaults},listeners:{"interactions:action-start":Fs,"interactions:action-move":Fs,"interactions:action-end":Fs,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Ls=Ws;As.default=Ls;var Ns={};function Xs(t){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.default=void 0;var Ys=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Xs(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}($),Us=Hs(G),Bs=Hs(d);function Hs(t){return t&&t.__esModule?t:{default:t}}function Vs(t,e,n,r,o,i,a){if(!e)return!1;if(!0===e){var s=Bs.default.number(i.width)?i.width:i.right-i.left,u=Bs.default.number(i.height)?i.height:i.bottom-i.top;if(a=Math.min(a,Math.abs(("left"===t||"right"===t?s:u)/2)),s<0&&("left"===t?t="right":"right"===t&&(t="left")),u<0&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return n.x<(s>=0?i.left:i.right)+a;if("top"===t)return n.y<(u>=0?i.top:i.bottom)+a;if("right"===t)return n.x>(s>=0?i.right:i.left)-a;if("bottom"===t)return n.y>(u>=0?i.bottom:i.top)-a}return!!Bs.default.element(r)&&(Bs.default.element(e)?e===r:Ys.matchesUpTo(r,e,o))}function qs(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.resizeAxes){var r=e;n.interactable.options.resize.square?("y"===n.resizeAxes?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,"x"===n.resizeAxes?r.delta.y=0:"y"===n.resizeAxes&&(r.delta.x=0))}}var Gs={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,r=t.Interactable,o=t.defaults;Gs.cursors=function(t){return t.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Gs.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(e){return function(t,e,n){return Bs.default.object(e)?(t.options.resize.enabled=!1!==e.enabled,t.setPerAction("resize",e),t.setOnEvents("resize",e),Bs.default.string(e.axis)&&/^x$|^y$|^xy$/.test(e.axis)?t.options.resize.axis=e.axis:null===e.axis&&(t.options.resize.axis=n.defaults.actions.resize.axis),Bs.default.bool(e.preserveAspectRatio)?t.options.resize.preserveAspectRatio=e.preserveAspectRatio:Bs.default.bool(e.square)&&(t.options.resize.square=e.square),t):Bs.default.bool(e)?(t.options.resize.enabled=e,t):t.options.resize}(this,e,t)},e.map.resize=Gs,e.methodDict.resize="resizable",o.actions.resize=Gs.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,o=n.rect;n._rects={start:(0,Us.default)({},o),corrected:(0,Us.default)({},o),previous:(0,Us.default)({},o),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}}(t),qs(t)},"interactions:action-move":function(t){!function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e,o=n.interactable.options.resize.invert,i="reposition"===o||"negate"===o,a=n.rect,s=n._rects,u=s.start,l=s.corrected,c=s.delta,f=s.previous;if((0,Us.default)(f,l),i){if((0,Us.default)(l,a),"reposition"===o){if(l.top>l.bottom){var d=l.top;l.top=l.bottom,l.bottom=d}if(l.left>l.right){var p=l.left;l.left=l.right,l.right=p}}}else l.top=Math.min(a.top,u.bottom),l.bottom=Math.max(a.bottom,u.top),l.left=Math.min(a.left,u.right),l.right=Math.max(a.right,u.left);for(var v in l.width=l.right-l.left,l.height=l.bottom-l.top,l)c[v]=l[v]-f[v];r.edges=n.prepared.edges,r.rect=l,r.deltaRect=c}}(t),qs(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if("resize"===n.prepared.name&&n.prepared.edges){var r=e;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,r=t.element,o=t.rect,i=t.buttons;if(o){var a=(0,Us.default)({},e.coords.cur.page),s=n.options.resize;if(s&&s.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||0!=(i&s.mouseButtons))){if(Bs.default.object(s.edges)){var u={left:!1,right:!1,top:!1,bottom:!1};for(var l in u)u[l]=Vs(l,s.edges[l],a,e._latestPointer.eventTarget,r,o,s.margin||Gs.defaultMargin);u.left=u.left&&!u.right,u.top=u.top&&!u.bottom,(u.left||u.right||u.top||u.bottom)&&(t.action={name:"resize",edges:u})}else{var c="y"!==s.axis&&a.x>o.right-Gs.defaultMargin,f="x"!==s.axis&&a.y>o.bottom-Gs.defaultMargin;(c||f)&&(t.action={name:"resize",axes:(c?"x":"")+(f?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,r=t.name,o=Gs.cursors,i=null;if(n)i=o[r+n];else if(e){for(var a="",s=["top","bottom","left","right"],u=0;u<s.length;u++){var l=s[u];e[l]&&(a+=l)}i=o[a]}return i},defaultMargin:null},Ks=Gs;Ns.default=Ks;var Js={};Object.defineProperty(Js,"__esModule",{value:!0}),Js.default=void 0;var Qs=nu(_),Zs=nu(Xt),tu=nu(As),eu=nu(Ns);function nu(t){return t&&t.__esModule?t:{default:t}}var ru={id:"actions",install:function(t){t.usePlugin(tu.default),t.usePlugin(eu.default),t.usePlugin(Qs.default),t.usePlugin(Zs.default)}};Js.default=ru;var ou={};Object.defineProperty(ou,"__esModule",{value:!0}),ou.default=void 0,ou.default={};var iu={};Object.defineProperty(iu,"__esModule",{value:!0}),iu.default=void 0,iu.default={};var au={};function su(t){return(su="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(au,"__esModule",{value:!0}),au.default=void 0;var uu=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==su(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(Tt),lu=fu(G),cu=fu(rt);function fu(t){return t&&t.__esModule?t:{default:t}}function du(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(t.immediatePropagationStopped)break;r(t)}}var pu=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=(0,lu.default)({},e||{})}var e;return(e=[{key:"fire",value:function(t){var e,n=this.global;(e=this.types[t.type])&&du(t,e),!t.propagationStopped&&n&&(e=n[t.type])&&du(t,e)}},{key:"on",value:function(t,e){var n=(0,cu.default)(t,e);for(t in n)this.types[t]=uu.merge(this.types[t]||[],n[t])}},{key:"off",value:function(t,e){var n=(0,cu.default)(t,e);for(t in n){var r=this.types[t];if(r&&r.length)for(var o=0;o<n[t].length;o++){var i=n[t][o],a=r.indexOf(i);-1!==a&&r.splice(a,1)}}}},{key:"getRect",value:function(t){return null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();au.default=pu;var vu={};function hu(t){return(hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(vu,"__esModule",{value:!0}),vu.default=void 0;var yu=wu(Tt),gu=wu($),mu=_u(G),bu=_u(d);function _u(t){return t&&t.__esModule?t:{default:t}}function Ou(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return Ou=function(){return t},t}function wu(t){if(t&&t.__esModule)return t;if(null===t||"object"!==hu(t)&&"function"!=typeof t)return{default:t};var e=Ou();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}var xu=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(t){var e=t.interactable,r=e.target,o=e._context,i=bu.default.string(r)?n.selectorMap[r]:r[n.scope.id],a=i.findIndex((function(t){return t.context===o}));i[a]&&(i[a].context=null,i[a].interactable=null),i.splice(a,1)}})}var e;return(e=[{key:"new",value:function(t,e){e=(0,mu.default)(e||{},{actions:this.scope.actions});var n=new this.scope.Interactable(t,e,this.scope.document,this.scope.events),r={context:n._context,interactable:n};return this.scope.addDocument(n._doc),this.list.push(n),bu.default.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(r)):(n.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(r)),this.scope.fire("interactable:new",{target:t,options:e,interactable:n,win:this.scope._win}),n}},{key:"get",value:function(t,e){var n=e&&e.context||this.scope.document,r=bu.default.string(t),o=r?this.selectorMap[t]:t[this.scope.id];if(!o)return null;var i=yu.find(o,(function(e){return e.context===n&&(r||e.interactable.inContext(t))}));return i&&i.interactable}},{key:"forEachMatch",value:function(t,e){for(var n=0;n<this.list.length;n++){var r=this.list[n],o=void 0;if((bu.default.string(r.target)?bu.default.element(t)&&gu.matchesSelector(t,r.target):t===r.target)&&r.inContext(t)&&(o=e(r)),void 0!==o)return o}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();vu.default=xu;var Su={};function Pu(t){return(Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Su,"__esModule",{value:!0}),Su.init=Su.default=void 0;var Mu=new(function(t){return t&&t.__esModule?t:{default:t}}(e({})).default),ju=Mu.interactStatic;Su.default=ju;var Eu=function(t){return Mu.init(t)};Su.init=Eu,"object"===("undefined"==typeof window?"undefined":Pu(window))&&window&&Eu(window);var ku={};Object.defineProperty(ku,"__esModule",{value:!0}),ku.default=void 0,ku.default={};var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.default=void 0;var Du=function(t){return t&&t.__esModule?t:{default:t}}(ss);function Iu(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var Cu={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(Du.default);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(t,e){return t["pointerEvents:".concat(e)]=Iu,t}),{"pointerEvents:new":function(t){var e=t.pointerEvent;"hold"===e.type&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,r=t.pointerEvent,o=t.eventTarget,i=t.targets;if("hold"===r.type&&i.length){var a=i[0].eventable.options.holdRepeatInterval;a<=0||(n.holdIntervalHandle=setTimeout((function(){e.pointerEvents.fire({interaction:n,eventTarget:o,type:"hold",pointer:r,event:r},e)}),a))}}})};Tu.default=Cu;var Au={};function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(Au,"__esModule",{value:!0}),Object.defineProperty(Au,"holdRepeat",{enumerable:!0,get:function(){return $u.default}}),Object.defineProperty(Au,"interactableTargets",{enumerable:!0,get:function(){return Fu.default}}),Au.pointerEvents=Au.default=void 0;var zu=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==Ru(t)&&"function"!=typeof t)return{default:t};var e=function(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return t}();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}(ss);Au.pointerEvents=zu;var $u=Wu(Tu),Fu=Wu(bs);function Wu(t){return t&&t.__esModule?t:{default:t}}var Lu={id:"pointer-events",install:function(t){t.usePlugin(zu),t.usePlugin($u.default),t.usePlugin(Fu.default)}};Au.default=Lu;var Nu={};Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.default=void 0,Nu.default={};var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.default=void 0,Xu.default={};var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.exchange=void 0,Yu.exchange={};var Uu={};Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.default=void 0,Uu.default={};var Bu={exports:{}};Object.defineProperty(Bu.exports,"__esModule",{value:!0}),Bu.exports.default=void 0;var Hu=pl(Js),Vu=pl(le),qu=pl(he),Gu=pl(rn),Ku=pl(ou),Ju=pl(Mn),Qu=pl(Br),Zu=pl(iu),tl=pl(Co),el=pl(Su),nl=pl(Ha),rl=pl(ku),ol=pl(So),il=pl(Au),al=pl(Nu),sl=pl(xs),ul=dl(Xu),ll=dl(dt),cl=pl(Uu);function fl(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return fl=function(){return t},t}function dl(t){if(t&&t.__esModule)return t;if(null===t||"object"!==vl(t)&&"function"!=typeof t)return{default:t};var e=fl();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var i=r?Object.getOwnPropertyDescriptor(t,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function pl(t){return t&&t.__esModule?t:{default:t}}function vl(t){return(vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}el.default.use(rl.default),el.default.use(Ju.default),el.default.use(ol.default),el.default.use(Ku.default),el.default.use(Vu.default),el.default.use(il.default),el.default.use(tl.default),el.default.use(nl.default),el.default.use(Gu.default),el.default.use(Hu.default),el.default.use(qu.default),el.default.use(sl.default),el.default.use(Zu.default),el.default.use(cl.default),el.default.use(al.default),el.default.__utils={exchange:Yu.exchange,displace:ul,pointer:ll},el.default.use(Qu.default);var hl=el.default;if(Bu.exports.default=hl,"object"===vl(Bu)&&Bu)try{Bu.exports=el.default}catch(t){}el.default.default=el.default,Bu=Bu.exports;var yl={exports:{}};Object.defineProperty(yl.exports,"__esModule",{value:!0}),yl.exports.default=void 0;var gl=function(t){return t&&t.__esModule?t:{default:t}}(Bu);function ml(t){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var bl=gl.default;if(yl.exports.default=bl,"object"===ml(yl)&&yl)try{yl.exports=gl.default}catch(t){}return gl.default.default=gl.default,yl.exports}()})),Q=(K=J)&&K.__esModule&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K;function Z(t){let e,n;return{c(){e=d("img"),e.src!==(n="/images/"+t[0]+".png")&&g(e,"src",n),g(e,"id",t[0]),g(e,"class","playing-card svelte-9n1l5a"),g(e,"alt",t[1]),w(e,"draggable",t[1])},m(t,n){l(t,e,n)},p(t,r){1&r&&e.src!==(n="/images/"+t[0]+".png")&&g(e,"src",n),1&r&&g(e,"id",t[0]),2&r&&g(e,"alt",t[1]),2&r&&w(e,"draggable",t[1])},d(t){t&&c(e)}}}function tt(e){let n,r=null!=e[0]&&Z(e);return{c(){r&&r.c(),n=p("")},m(t,e){r&&r.m(t,e),l(t,n,e)},p(t,[e]){null!=t[0]?r?r.p(t,e):(r=Z(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&c(n)}}}function et(t,e,n){let{id:r}=e,{draggable:o=!0}=e;return t.$set=t=>{"id"in t&&n(0,r=t.id),"draggable"in t&&n(1,o=t.draggable)},[r,o]}class nt extends G{constructor(t){super(),q(this,t,et,tt,i,{id:0,draggable:1})}}function rt(t,e,n){const r=t.slice();return r[4]=e[n],r[6]=n,r}function ot(t){let e;const n=new nt({props:{id:t[4],draggable:t[3]}});return{c(){U(n.$$.fragment)},m(t,r){B(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.id=t[4]),8&e&&(r.draggable=t[3]),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function it(t){let e,n,r,o,i,a,s=t[0],p=[];for(let e=0;e<s.length;e+=1)p[e]=ot(rt(t,s,e));const h=t=>Y(p[t],1,1,()=>{p[t]=null});return{c(){e=d("div"),n=d("img"),o=v();for(let t=0;t<p.length;t+=1)p[t].c();n.src!==(r="/images/blank.png")&&g(n,"src","/images/blank.png"),g(n,"class","blank svelte-rpu1p8"),g(e,"class",i="cell "+t[2]+" svelte-rpu1p8"),g(e,"data-index",t[1])},m(t,r){l(t,e,r),u(e,n),u(e,o);for(let t=0;t<p.length;t+=1)p[t].m(e,null);a=!0},p(t,[n]){if(9&n){let r;for(s=t[0],r=0;r<s.length;r+=1){const o=rt(t,s,r);p[r]?(p[r].p(o,n),X(p[r],1)):(p[r]=ot(o),p[r].c(),X(p[r],1),p[r].m(e,null))}for(L(),r=s.length;r<p.length;r+=1)h(r);N()}(!a||4&n&&i!==(i="cell "+t[2]+" svelte-rpu1p8"))&&g(e,"class",i),(!a||2&n)&&g(e,"data-index",t[1])},i(t){if(!a){for(let t=0;t<s.length;t+=1)X(p[t]);a=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)Y(p[t]);a=!1},d(t){t&&c(e),f(p,t)}}}function at(t,e,n){let{cards:r=[]}=e,{index:o}=e,{type:i}=e,{draggable:a=!0}=e;return t.$set=t=>{"cards"in t&&n(0,r=t.cards),"index"in t&&n(1,o=t.index),"type"in t&&n(2,i=t.type),"draggable"in t&&n(3,a=t.draggable)},[r,o,i,a]}class st extends G{constructor(t){super(),q(this,t,at,it,i,{cards:0,index:1,type:2,draggable:3})}}function ut(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function lt(t){let e;const n=new nt({props:{id:t[2],draggable:dt(t[2],[...t[0]].slice(t[4]+1))}});return{c(){U(n.$$.fragment)},m(t,r){B(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.id=t[2]),1&e&&(r.draggable=dt(t[2],[...t[0]].slice(t[4]+1))),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function ct(t){let e,n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=lt(ut(t,r,e));const i=t=>Y(o[t],1,1,()=>{o[t]=null});return{c(){e=d("div");for(let t=0;t<o.length;t+=1)o[t].c();g(e,"class","tableau svelte-1egkhiu"),g(e,"data-index",t[1])},m(t,r){l(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[a]){if(1&a){let n;for(r=t[0],n=0;n<r.length;n+=1){const i=ut(t,r,n);o[n]?(o[n].p(i,a),X(o[n],1)):(o[n]=lt(i),o[n].c(),X(o[n],1),o[n].m(e,null))}for(L(),n=r.length;n<o.length;n+=1)i(n);N()}(!n||2&a)&&g(e,"data-index",t[1])},i(t){if(!n){for(let t=0;t<r.length;t+=1)X(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)Y(o[t]);n=!1},d(t){t&&c(e),f(o,t)}}}let ft={ranks:["A","2","3","4","5","6","7","8","9","T","J","Q","K"],cardRank:t=>t[0],cardColor:t=>"c"==t[1]||"s"==t[1]?"black":"red",cardSuit:t=>t[1],cardVal(t){return this.ranks.indexOf(t[0])}};function dt(t,e){if(0===e.length)return!0;{let n=[...e],r=n.shift(),o=ft.cardVal(t)===ft.cardVal(r)+1&&ft.cardColor(t)!==ft.cardColor(r);return dt(r,n)&&o}}function pt(t,e,n){let{cards:r=[]}=e,{index:o}=e;return t.$set=t=>{"cards"in t&&n(0,r=t.cards),"index"in t&&n(1,o=t.index)},[r,o]}class vt extends G{constructor(t){super(),q(this,t,pt,ct,i,{cards:0,index:1})}}function ht(e){let n,o,i,a,s,f,p,m,b,_,x,S,P,M,j,E,k;return{c(){n=d("nav"),o=d("ul"),i=d("li"),a=d("a"),a.innerHTML='<i class="fas fa-undo"></i>',s=v(),f=d("li"),p=d("a"),p.innerHTML='<i class="fas fa-power-off"></i>',m=v(),b=d("li"),_=d("a"),_.innerHTML='<i class="fas fa-lightbulb"></i>',x=v(),S=d("li"),P=d("a"),P.innerHTML='<i class="fas fa-fast-backward"></i>',M=v(),j=d("li"),E=d("a"),E.innerHTML='<i class="fas fa-cog"></i>',g(a,"class","nav-link btn btn-link text-white"),g(a,"title","Undo last move"),w(a,"disabled",e[0]),g(i,"class","nav-item"),g(p,"class","nav-link btn btn-link text-white"),g(p,"title","New Game"),g(f,"class","nav-item"),g(_,"class","nav-link btn btn-link text-white"),g(_,"title","Get Hint (not implemented)"),g(b,"class","nav-item"),g(P,"class","nav-link btn btn-link text-white"),g(P,"title","Restart this game"),g(S,"class","nav-item"),g(E,"class","nav-link btn btn-link text-white"),g(E,"title","Settings (not implemented)"),g(j,"class","nav-item"),g(o,"class","nav justify-content-around"),O(o,"width","100%"),g(n,"class","navbar fixed-bottom navbar-dark bg-dark p-0 svelte-3lm7hf"),g(n,"id","footer")},m(t,c,d){l(t,n,c),u(n,o),u(o,i),u(i,a),u(o,s),u(o,f),u(f,p),u(o,m),u(o,b),u(b,_),u(o,x),u(o,S),u(S,P),u(o,M),u(o,j),u(j,E),d&&r(k),k=[h(a,"click",y(e[1])),h(p,"click",y(e[2])),h(_,"click",y(e[3])),h(P,"click",y(e[5])),h(E,"click",y(e[4]))]},p(t,[e]){1&e&&w(a,"disabled",t[0])},i:t,o:t,d(t){t&&c(n),r(k)}}}function yt(t,e,n){let{disableUndo:r=!1}=e;const o=M();return t.$set=t=>{"disableUndo"in t&&n(0,r=t.disableUndo)},[r,function(){o("command",{command:"undo"})},function(){o("command",{command:"newgame"})},function(){o("command",{command:"hint"})},function(){o("command",{command:"settings"})},function(){o("command",{command:"restart"})}]}class gt extends G{constructor(t){super(),q(this,t,yt,ht,i,{disableUndo:0})}}const mt=[];function bt(e,n=t){let r;const o=[];function a(t){if(i(e,t)&&(e=t,r)){const t=!mt.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,s=t){const u=[i,s];return o.push(u),1===o.length&&(r=n(a)||t),i(e),()=>{const t=o.indexOf(u);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}const _t=bt([]),Ot=bt([]),wt=bt(0),xt=bt(0),St=bt(!1);function Pt(e){let n,o,i,a,s,f,p,y,b,w,x,S,P,M,j;return{c(){n=d("div"),o=d("div"),i=d("div"),a=d("a"),a.textContent="X",s=v(),f=d("div"),f.innerHTML='<div><h3>FreeCell</h3> \n          <h4><i class="fas fa-heart text-danger"></i> \n            <i class="fas fa-spade"></i> \n            <i class="fas fa-diamond text-danger"></i> \n            <i class="fas fa-club"></i></h4></div>',p=v(),y=d("div"),b=d("div"),w=d("input"),x=v(),S=d("div"),P=d("button"),P.textContent="Start New Game",g(a,"class","text-right"),g(a,"href","#"),g(f,"class","modal-header justify-content-center"),g(w,"type","number"),g(w,"class","form-control"),g(w,"placeholder","Game # (optional)"),g(b,"class","input-group align-items-center mr-auto ml-auto mt-3"),O(b,"width","50%"),g(P,"class","btn btn-success btn-lg"),g(S,"class","input-group justify-content-center mt-3"),g(y,"class","modal-body justify-content-center alert alert-success"),g(i,"class","modal-content alert alert-success"),g(o,"class","modal-dialog"),O(o,"top","30%"),g(n,"class",M="modal bg-dark "+(e[0]?"d-block":"")+" svelte-1q8m3b3"),g(n,"id","new-game-modal")},m(t,c,d){l(t,n,c),u(n,o),u(o,i),u(i,a),u(i,s),u(i,f),u(i,p),u(i,y),u(y,b),u(b,w),_(w,e[1]),u(y,x),u(y,S),u(S,P),d&&r(j),j=[h(a,"click",e[3]),h(w,"input",e[5]),h(P,"click",e[2])]},p(t,[e]){2&e&&m(w.value)!==t[1]&&_(w,t[1]),1&e&&M!==(M="modal bg-dark "+(t[0]?"d-block":"")+" svelte-1q8m3b3")&&g(n,"class",M)},i:t,o:t,d(t){t&&c(n),r(j)}}}function Mt(t,e,n){let r,{display:o=!0}=e;const i=M();return t.$set=t=>{"display"in t&&n(0,o=t.display)},[o,r,function(){i("command",{command:"startgame",gameId:r})},function(){i("command",{command:"cancelmodal",gameId:r})},i,function(){r=m(this.value),n(1,r)}]}class jt extends G{constructor(t){super(),q(this,t,Mt,Pt,i,{display:0})}}const Et=function(t){let e=new Date(null);e.setSeconds(t);let n=e.getUTCHours(),r=e.getUTCMinutes(),o=e.getUTCSeconds(),i="";return n>0&&(i+=n+":"),i+=r>9?r+":":`0${r}:`,i+=o>9?""+o:"0"+o,i};function kt(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function Tt(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function Dt(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function It(t){let e;const n=new st({props:{cards:t[1][t[17]+t[6].HOMECELL_OFFSET],index:t[17]+t[6].HOMECELL_OFFSET,type:"homecell",draggable:!1}});return{c(){U(n.$$.fragment)},m(t,r){B(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.cards=t[1][t[17]+t[6].HOMECELL_OFFSET]),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function Ct(t){let e;const n=new st({props:{cards:t[1][t[17]+t[6].FREECELL_OFFSET],index:t[17]+t[6].FREECELL_OFFSET,type:"freecell"}});return{c(){U(n.$$.fragment)},m(t,r){B(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.cards=t[1][t[17]+t[6].FREECELL_OFFSET]),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function At(t){let e;const n=new vt({props:{cards:t[1][t[17]],index:t[17]}});return{c(){U(n.$$.fragment)},m(t,r){B(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.cards=t[1][t[17]]),n.$set(r)},i(t){e||(X(n.$$.fragment,t),e=!0)},o(t){Y(n.$$.fragment,t),e=!1},d(t){H(n,t)}}}function Rt(t){let e,n,r,o,i,a,s,h,y,m,_,O,w,x,S,P,M,j,E,k,T,D,I,C=(t[0]||" ")+"",A=Et(t[4])+"",R=Array(4),z=[];for(let e=0;e<R.length;e+=1)z[e]=It(Dt(t,R,e));const $=t=>Y(z[t],1,1,()=>{z[t]=null});let F=Array(4),W=[];for(let e=0;e<F.length;e+=1)W[e]=Ct(Tt(t,F,e));const V=t=>Y(W[t],1,1,()=>{W[t]=null});let q=Array(8),G=[];for(let e=0;e<q.length;e+=1)G[e]=At(kt(t,q,e));const K=t=>Y(G[t],1,1,()=>{G[t]=null}),J=new gt({props:{disableUndo:0===t[3].length}});J.$on("command",t[7]);const Q=new jt({props:{display:t[5]}});return Q.$on("command",t[7]),{c(){e=d("nav"),n=d("div"),r=d("a"),r.innerHTML='<i class="fas fa-diamond"></i>',o=p(" \n  Game: "),i=p(C),a=v(),s=d("div"),h=p(A),y=v(),m=d("div"),_=p("Moves: "),O=p(t[2]),w=v(),x=d("div"),S=d("div"),P=d("div");for(let t=0;t<z.length;t+=1)z[t].c();M=v(),j=d("div");for(let t=0;t<W.length;t+=1)W[t].c();E=v(),k=d("div");for(let t=0;t<G.length;t+=1)G[t].c();T=v(),U(J.$$.fragment),D=v(),U(Q.$$.fragment),g(r,"href","/"),g(r,"class","text-danger"),g(n,"class","navsection text-left svelte-1415m81"),g(s,"class","navsection text-center svelte-1415m81"),g(m,"class","navsection text-right svelte-1415m81"),g(e,"class","navbar navbar-dark bg-dark m-0 p-1 header svelte-1415m81"),g(P,"class","cells-board homecells svelte-1415m81"),g(j,"class","cells-board freecells svelte-1415m81"),g(S,"class","row headboard svelte-1415m81"),g(k,"class","row tableaus svelte-1415m81"),g(x,"class","container board svelte-1415m81")},m(t,c){l(t,e,c),u(e,n),u(n,r),u(n,o),u(n,i),u(e,a),u(e,s),u(s,h),u(e,y),u(e,m),u(m,_),u(m,O),l(t,w,c),l(t,x,c),u(x,S),u(S,P);for(let t=0;t<z.length;t+=1)z[t].m(P,null);u(S,M),u(S,j);for(let t=0;t<W.length;t+=1)W[t].m(j,null);u(x,E),u(x,k);for(let t=0;t<G.length;t+=1)G[t].m(k,null);l(t,T,c),B(J,t,c),l(t,D,c),B(Q,t,c),I=!0},p(t,[e]){if((!I||1&e)&&C!==(C=(t[0]||" ")+"")&&b(i,C),(!I||16&e)&&A!==(A=Et(t[4])+"")&&b(h,A),(!I||4&e)&&b(O,t[2]),66&e){let n;for(R=Array(4),n=0;n<R.length;n+=1){const r=Dt(t,R,n);z[n]?(z[n].p(r,e),X(z[n],1)):(z[n]=It(r),z[n].c(),X(z[n],1),z[n].m(P,null))}for(L(),n=R.length;n<z.length;n+=1)$(n);N()}if(66&e){let n;for(F=Array(4),n=0;n<F.length;n+=1){const r=Tt(t,F,n);W[n]?(W[n].p(r,e),X(W[n],1)):(W[n]=Ct(r),W[n].c(),X(W[n],1),W[n].m(j,null))}for(L(),n=F.length;n<W.length;n+=1)V(n);N()}if(2&e){let n;for(q=Array(8),n=0;n<q.length;n+=1){const r=kt(t,q,n);G[n]?(G[n].p(r,e),X(G[n],1)):(G[n]=At(r),G[n].c(),X(G[n],1),G[n].m(k,null))}for(L(),n=q.length;n<G.length;n+=1)K(n);N()}const n={};8&e&&(n.disableUndo=0===t[3].length),J.$set(n);const r={};32&e&&(r.display=t[5]),Q.$set(r)},i(t){if(!I){for(let t=0;t<R.length;t+=1)X(z[t]);for(let t=0;t<F.length;t+=1)X(W[t]);for(let t=0;t<q.length;t+=1)X(G[t]);X(J.$$.fragment,t),X(Q.$$.fragment,t),I=!0}},o(t){z=z.filter(Boolean);for(let t=0;t<z.length;t+=1)Y(z[t]);W=W.filter(Boolean);for(let t=0;t<W.length;t+=1)Y(W[t]);G=G.filter(Boolean);for(let t=0;t<G.length;t+=1)Y(G[t]);Y(J.$$.fragment,t),Y(Q.$$.fragment,t),I=!1},d(t){t&&c(e),t&&c(w),t&&c(x),f(z,t),f(W,t),f(G,t),t&&c(T),H(J,t),t&&c(D),H(Q,t)}}}function zt(t,e,n){let r,o,i,u,l;a(t,_t,t=>n(1,r=t)),a(t,wt,t=>n(2,o=t)),a(t,Ot,t=>n(3,i=t)),a(t,St,t=>n(9,u=t)),a(t,xt,t=>n(4,l=t));const c={HOMECELL_OFFSET:8,FREECELL_OFFSET:12,PLAYING_CARDS:["Ac","Ad","Ah","As","2c","2d","2h","2s","3c","3d","3h","3s","4c","4d","4h","4s","5c","5d","5h","5s","6c","6d","6h","6s","7c","7d","7h","7s","8c","8d","8h","8s","9c","9d","9h","9s","Tc","Td","Th","Ts","Jc","Jd","Jh","Js","Qc","Qd","Qh","Qs","Kc","Kd","Kh","Ks"],RANKS:["A","2","3","4","5","6","7","8","9","T","J","Q","K"],cardRank:t=>t[0],cardSuit:t=>t[1],cardColor:t=>"c"==t[1]||"s"==t[1]?"black":"red",cardVal(t){return this.RANKS.indexOf(t[0])},removeCard:(t,e)=>t.filter(t=>t!==e),addCard:(t,e)=>t.concat(e),moveCard(t,e,n,i=!0){s(_t,r[t]=this.removeCard(r[t],n),r),s(_t,r[e]=this.addCard(r[e],n),r),i&&this.recordMove(t,e,n),s(wt,o+=1)},validTableauMove(t,e,n){if(console.log("tableau logic"),t===e)return void console.log("Can't move to same column.");let o=c.numEmptyFreeCells();if(n.length-1>o)return void console.log(`Not enough empty freecells: Need ${n.length-1} spaces, only have ${o}`);if(0===r[e].length)return!0;let i=n[0],a=r[e].slice(-1).pop();return!(!c.alternateColors(a,i)||!c.descendingRank(a,i))||void 0},validCellMove(t,e,n){if(!(n.length>1)){if(!(e<c.FREECELL_OFFSET))return 0===r[e].length;{let t=n[0];if(0===r[e].length)return"A"===c.cardRank(t);let o=r[e].slice(-1).pop();if(c.cardSuit(o)===c.cardSuit(t)&&c.ascendingRank(o,t))return!0}}},moveCards(t,e,n,o=!0){n.forEach(n=>{s(_t,r[t]=this.removeCard(r[t],n),r),s(_t,r[e]=this.addCard(r[e],n),r)}),o&&this.recordMove(t,e,n),c.won()&&setTimeout(()=>{alert("You won!")},1e3)},alternateColors(t,e){return this.cardColor(t)!==this.cardColor(e)},descendingRank(t,e){return this.cardVal(t)===this.cardVal(e)+1},ascendingRank(t,e){return this.descendingRank(e,t)},validParent(t,e){return this.descendingRank(t,e)&&this.alternateColors(t,e)},findEmptyHomeCell(){return this.findEmptyCell(this.HOMECELL_OFFSET)},findEmptyFreeCell(){return this.findEmptyCell(this.FREECELL_OFFSET)},findEmptyCell(t){for(let e=t;e<4+t;e++)if(0==r[e].length)return e},numEmptyFreeCells(){return r.slice(this.FREECELL_OFFSET).filter(t=>0===t.length).length},findValidHomeCell(t){for(let e=this.HOMECELL_OFFSET;e<this.HOMECELL_OFFSET+4;e++){let n=r[e].slice(-1).pop();if(n&&c.cardSuit(t)===c.cardSuit(n)&&c.ascendingRank(n,t))return e}},findValidParent(t,e){for(let n=0;n<8;n++){if(n===e)continue;let o=[...r[n]].slice(-1).pop();if(console.log(`findValidParent in column ${n} for ${t}[${e}] parent:`,o),void 0!==o&&c.validParent(o,t))return n}},recordMove(t,e,n){let r={from:t,to:e,cards:n};s(Ot,i=[...i,r]),s(wt,o+=1),console.log(`[move:${i.length}]`,r)},undo(){let t=i.pop();Ot.set(i),t&&(console.log("Undo last move",t),c.moveCards(t.to,t.from,t.cards,!1))},won(){for(let t=this.HOMECELL_OFFSET;t<this.HOMECELL_OFFSET+4;t++)if(13!==r[t].length)return!1;return!0},Deck:class{constructor(t){this.cards=[],this.seed=parseInt(t,10)||parseInt(1e6*Math.random(),10),this.shuffle()}shuffle(){if(!this.empty)return;let t=Array.from(c.PLAYING_CARDS,(function(t){return t})),e=this.seed;for(let n=52;n>=2;n--){e=214013*e+2531011&2147483647;let r=(e>>16)%n,o=n-1;[t[r],t[o]]=[t[o],t[r]]}this.cards=t.reverse()}toTableau(){let t=[[],[],[],[],[],[],[],[]],e=0;for(;!this.empty;)t[e++%t.length].unshift(this.cards.pop());return t}get empty(){return 0===this.cards.length}}};var f;function d(t,e){let n=r[e],o=n.indexOf(t);return o+1===n.length?[t]:n.slice(o)}function p(t){n(0,v=t||parseInt(1e6*Math.random(),10)),console.log("Start new game with id ",v);let e=new c.Deck(v).toTableau();s(Ot,i=[]),s(_t,r=e.concat([[],[],[],[],[],[],[],[]])),s(wt,o=0),h&&(clearInterval(h),s(xt,l=0)),h=setInterval((function(){s(xt,l+=1)}),1e3),s(St,u=!0)}let v,h,y;return f=()=>{Q(".cell").dropzone({accept:".draggable",ondragenter(t){t.target.classList.add("drop-active")},ondragleave(t){t.target.classList.remove("drop-active")},ondrop(t){t.target.classList.remove("drop-active");let e=t.relatedTarget.id,n=t.relatedTarget.parentNode.dataset.index,r=t.target.dataset.index,o=d(e,n);c.validCellMove(n,r,o)&&c.moveCards(n,r,o)}}),Q(".tableau").dropzone({accept:".draggable",listeners:{drop(t){let e=t.relatedTarget.id,n=t.relatedTarget.parentNode.dataset.index,r=t.target.dataset.index,o=d(e,n);console.log(`[Move] ${o} from ${n} => ${r}`),c.validTableauMove(n,r,o)&&c.moveCards(n,r,o)}}}),Q(".draggable").draggable({onstart(t){d(t.target.id,t.target.parentNode.dataset.index).forEach(t=>{document.getElementById(t).style.zIndex=1e4})},onmove(t){d(t.target.id,t.target.parentNode.dataset.index).forEach(e=>{let n=document.getElementById(e),r=(parseFloat(n.getAttribute("data-x"))||0)+t.dx,o=(parseFloat(n.getAttribute("data-y"))||0)+t.dy;n.style.transform=`translate(${r}px, ${o}px)`,n.setAttribute("data-x",r),n.setAttribute("data-y",o)})},onend(t){d(t.target.id,t.target.parentNode.dataset.index).forEach(t=>{let e=document.getElementById(t);e.removeAttribute("data-y"),e.removeAttribute("data-x"),e.removeAttribute("style"),e.style.zIndex=void 0})}}),Q(".draggable").on("tap",(function(t){let e=t.target.id,n=t.target.parentNode.dataset.index;if(d(e,n).length>1)return;if(console.log("Autocomplete action for "+e),"A"===c.cardRank(e)){let t=c.findEmptyHomeCell();if(t>=0)return console.log("moving card to empty homecell"),void c.moveCards(n,t,[e])}let r=c.findValidHomeCell(e);void 0===r&&(r=c.findValidParent(e,n)),void 0===r&&(r=c.findEmptyFreeCell()),r>=0?c.moveCards(n,r,[e]):console.log("No valid move found")}))},P().$$.on_mount.push(f),n(5,y=!0),[v,r,o,i,l,y,c,function(t){switch(console.log("[action]",t.detail),t.detail.command){case"undo":c.undo();break;case"settings":console.log("change settings");break;case"newgame":n(5,y=!0);break;case"startgame":p(t.detail.gameId),n(5,y=!1);break;case"restart":if(console.log("Restart same game"),confirm("Are you sure you wish to restart this game?")){p(v);break}case"hint":console.log("Hint for next move");break;case"cancelmodal":n(5,y=!1)}}]}return new class extends G{constructor(t){super(),q(this,t,zt,Rt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
